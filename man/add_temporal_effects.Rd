% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/tbl_now_add_temporal_effects.R
\name{add_temporal_effects}
\alias{add_temporal_effects}
\alias{add_temporal_effects.data.frame}
\alias{add_temporal_effects.tbl_now}
\title{Add temporal effect coding to a `tbl_now`}
\usage{
add_temporal_effects(x, t_effect = NULL, overwrite = FALSE, ...)

\method{add_temporal_effects}{data.frame}(
  x,
  t_effect = NULL,
  overwrite = FALSE,
  ...,
  date_col = NULL,
  numeric_col = NULL,
  name_prefix = paste0(".", date_col),
  weekend_days = c("Sat", "Sun")
)

\method{add_temporal_effects}{tbl_now}(
  x,
  t_effect = NULL,
  overwrite = FALSE,
  ...,
  date_type = "event_date",
  weekend_days = c("Sat", "Sun")
)
}
\arguments{
\item{x}{A `tbl_now` object or a `data.frame`.}

\item{t_effect}{A [temporal_effects()] object codifying the
temporal effects to be used.}

\item{overwrite}{If `TRUE` ignores that the columns already exist and overwrites them.
If `FALSE` it throws an errors if the columns it is creating already exist (default).}

\item{...}{Additional arguments (unused)}

\item{date_col}{The column which contains the `<Date>` values from which
effects will be calculated. This applies to all `temporal_effects` except
for `seasonal`.}

\item{numeric_col}{The column which contains the values from which
the seasonal effects will be calculated. This applies only to seasonal
effects. For date-related effects (such as month or day of the week)
use `date_col`.}

\item{name_prefix}{What preffix to add to the column names}

\item{weekend_days}{A character or numeric vector defining weekend days.
-Numeric: must be integers in 1-7 corresponding to [lubridate::wday()] when `week_start = 1`.
-Character: any of c("Mon","Tuesday","wed",...) case-insensitive.
Defaults to Saturday and Sunday (weekend_days = c("Sat", "Sun")).}

\item{date_type}{Either `event_date` (default) or `report_date`
to add temporal effects to those columns.}
}
\value{
A `tbl_now` or `data.frame` containing all of the effects as new columns.
}
\description{
Takes a `tbl_now` or a `data.frame` and adds the temporal effects `t_effect` as
columns
}
\examples{
data(denguedat)

# Get disease
disease_data <- tbl_now(denguedat,
    event_date = "onset_week",
    report_date = "report_week",
    strata = "gender")

# Add an effect for epidemiological week
add_temporal_effects(disease_data, t_effect = temporal_effects(week_of_year = TRUE))
}
