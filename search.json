[{"path":"https://rodrigozepeda.github.io/tbl.now/LICENSE.html","id":null,"dir":"","previous_headings":"","what":"MIT License","title":"MIT License","text":"Copyright (c) 2025 tbl.now authors Permission hereby granted, free charge, person obtaining copy software associated documentation files (“Software”), deal Software without restriction, including without limitation rights use, copy, modify, merge, publish, distribute, sublicense, /sell copies Software, permit persons Software furnished , subject following conditions: copyright notice permission notice shall included copies substantial portions Software. SOFTWARE PROVIDED “”, WITHOUT WARRANTY KIND, EXPRESS IMPLIED, INCLUDING LIMITED WARRANTIES MERCHANTABILITY, FITNESS PARTICULAR PURPOSE NONINFRINGEMENT. EVENT SHALL AUTHORS COPYRIGHT HOLDERS LIABLE CLAIM, DAMAGES LIABILITY, WHETHER ACTION CONTRACT, TORT OTHERWISE, ARISING , CONNECTION SOFTWARE USE DEALINGS SOFTWARE.","code":""},{"path":"https://rodrigozepeda.github.io/tbl.now/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Rodrigo Zepeda-Tello. Author, maintainer. Rami Yaari. Author. Matteo Perini. Author. Teresa Yamana. Contributor. Jeffrey Shaman. Contributor. Columbia University City New York. Copyright holder, funder.","code":""},{"path":"https://rodrigozepeda.github.io/tbl.now/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Zepeda-Tello R, Yaari R, Perini M (2025). tbl.now: Tibble Extension Nowcasts. R package version 0.1.0, https://rodrigozepeda.github.io/tbl.now/.","code":"@Manual{,   title = {tbl.now: Tibble Extension for Nowcasts},   author = {Rodrigo Zepeda-Tello and Rami Yaari and Matteo Perini},   year = {2025},   note = {R package version 0.1.0},   url = {https://rodrigozepeda.github.io/tbl.now/}, }"},{"path":"https://rodrigozepeda.github.io/tbl.now/index.html","id":"tibble-now-tblnow","dir":"","previous_headings":"","what":"Tibble Extension for Nowcasts","title":"Tibble Extension for Nowcasts","text":"goal tbl.now provide unified tibble-like interface nowcasting algorithms within diseasenowcasting framework.","code":""},{"path":"https://rodrigozepeda.github.io/tbl.now/index.html","id":"installation","dir":"","previous_headings":"","what":"Installation","title":"Tibble Extension for Nowcasts","text":"can install development version tbl.now GitHub :","code":"# install.packages(\"remotes\") remotes::install_github\"RodrigoZepeda/tbl.now\")"},{"path":"https://rodrigozepeda.github.io/tbl.now/reference/attr_default.html","id":null,"dir":"Reference","previous_headings":"","what":"Function to get an attribute from an object or default value — attr_default","title":"Function to get an attribute from an object or default value — attr_default","text":"Checks attribute exists object returns `default` ","code":""},{"path":"https://rodrigozepeda.github.io/tbl.now/reference/attr_default.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Function to get an attribute from an object or default value — attr_default","text":"","code":"attr_default(x, name, default = NULL)"},{"path":"https://rodrigozepeda.github.io/tbl.now/reference/attr_default.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Function to get an attribute from an object or default value — attr_default","text":"x object attribute `name` name name attribute `x` default (optional) default value attribute `name` `x`","code":""},{"path":"https://rodrigozepeda.github.io/tbl.now/reference/attr_default.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Function to get an attribute from an object or default value — attr_default","text":"","code":"if (FALSE) { # \\dontrun{ #Create an object x <- 42 attr(x, \"meaning\") <- \"meaning of life\"  #See the attributes attributes(x)  #Return the meaning attribute attr_default(x, \"meaning\")  #Return null for attribute that doesn't exist attr_default(x, \"DOES_NOT_EXIST\")  #Or return default when it doesn't exist attr_default(x, \"DOES_NOT_EXIST\", default = 15)  } # }"},{"path":"https://rodrigozepeda.github.io/tbl.now/reference/cash-set-.tbl_now.html","id":null,"dir":"Reference","previous_headings":"","what":"Set accessor for `tbl_now` class — $<-.tbl_now","title":"Set accessor for `tbl_now` class — $<-.tbl_now","text":"Set accessor `tbl_now` class","code":""},{"path":"https://rodrigozepeda.github.io/tbl.now/reference/cash-set-.tbl_now.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Set accessor for `tbl_now` class — $<-.tbl_now","text":"","code":"# S3 method for class 'tbl_now' x$name <- value"},{"path":"https://rodrigozepeda.github.io/tbl.now/reference/cash-set-.tbl_now.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Set accessor for `tbl_now` class — $<-.tbl_now","text":"x `tbl_now` object name literal character string name (possibly backtick     quoted).  extraction, normally (see     ‘Environments’) partially matched names     object. value typically array-like R object similar class     x.","code":""},{"path":"https://rodrigozepeda.github.io/tbl.now/reference/cash-set-.tbl_now.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Set accessor for `tbl_now` class — $<-.tbl_now","text":"`tbl_now` object `data.frame`","code":""},{"path":"https://rodrigozepeda.github.io/tbl.now/reference/change.html","id":null,"dir":"Reference","previous_headings":"","what":"Change attributes of a `tbl_now` object — change","title":"Change attributes of a `tbl_now` object — change","text":"Functions modify attributes `tbl_now` object. functions validate object making changes.","code":""},{"path":"https://rodrigozepeda.github.io/tbl.now/reference/change.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Change attributes of a `tbl_now` object — change","text":"","code":"change_event_date(x, value)  change_report_date(x, value)  change_strata(x, value)  remove_strata(x, value)  add_strata(x, value)  remove_all_strata(x)  change_covariates(x, value)  remove_covariate(x, value)  add_covariate(x, value)  remove_all_covariates(x)  change_now(x, value)"},{"path":"https://rodrigozepeda.github.io/tbl.now/reference/change.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Change attributes of a `tbl_now` object — change","text":"x `tbl_now` object value new value attribute","code":""},{"path":"https://rodrigozepeda.github.io/tbl.now/reference/change.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Change attributes of a `tbl_now` object — change","text":"`tbl_now` object updated attributes","code":""},{"path":"https://rodrigozepeda.github.io/tbl.now/reference/change.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Change attributes of a `tbl_now` object — change","text":"","code":"if (FALSE) { # \\dontrun{ data(denguedat) ndata <- new_tbl_now(denguedat,                           event_date = \"onset_week\",                           report_date = \"report_week\")  # Change the event_date column to a different date column ndata$new_onset_week <- ndata$onset_week - lubridate::days(1) ndata <- change_event_date(ndata, \"new_onset_week\") ndata  # Change the report_date column to a different column ndata$new_report_week <- ndata$report_week - lubridate::days(1) ndata <- change_report_date(ndata, \"new_report_week\") ndata  # Change strata to different strata ndata$age_group <- sample(c(\"< 18\",\"20-60\",\"60+\"), nrow(ndata), replace = TRUE) ndata <- change_strata(ndata, c(\"gender\", \"age_group\")) ndata  # Remove some strata ndata <- remove_strata(ndata, \"gender\") ndata  # Add strata ndata <- add_strata(ndata, \"gender\") ndata  # Change covariates ndata$temperature <- rnorm(nrow(ndata), 25, 4) ndata$humidity    <- rbeta(nrow(ndata), 0.6, 0.4) ndata <- change_covariates(ndata, c(\"temperature\", \"humidity\")) ndata  # Remove some covariates ndata <- remove_covariates(ndata, \"temperature\") ndata  # Add covariates ndata <- add_covariates(ndata, \"temperature\") ndata  # Change now ndata <- change_now(ndata, as.Date(\"2025-01-01\")) ndata } # }"},{"path":"https://rodrigozepeda.github.io/tbl.now/reference/check_bool.html","id":null,"dir":"Reference","previous_headings":"","what":"Check a boolean value — check_bool","title":"Check a boolean value — check_bool","text":"Function checks whether boolean variable `TRUE` `FALSE`","code":""},{"path":"https://rodrigozepeda.github.io/tbl.now/reference/check_bool.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Check a boolean value — check_bool","text":"","code":"check_bool(x, name)"},{"path":"https://rodrigozepeda.github.io/tbl.now/reference/check_bool.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Check a boolean value — check_bool","text":"x variable name Name argument printing error messages","code":""},{"path":"https://rodrigozepeda.github.io/tbl.now/reference/check_bool.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Check a boolean value — check_bool","text":"invisible (TRUE). Called side effects.","code":""},{"path":"https://rodrigozepeda.github.io/tbl.now/reference/check_bool.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"Check a boolean value — check_bool","text":"https://stackoverflow.com//60346779/5067372","code":""},{"path":"https://rodrigozepeda.github.io/tbl.now/reference/check_bool.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Check a boolean value — check_bool","text":"","code":"if (FALSE) { # \\dontrun{ check_bool(TRUE, \"value\")  #Using a non boolean gives an error message not_a_boolean <- \"hello\" check_bool(not_a_boolean, \"not_a_boolean\") } # }"},{"path":"https://rodrigozepeda.github.io/tbl.now/reference/check_data_type.html","id":null,"dir":"Reference","previous_headings":"","what":"Check the data type — check_data_type","title":"Check the data type — check_data_type","text":"Check data type","code":""},{"path":"https://rodrigozepeda.github.io/tbl.now/reference/check_data_type.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Check the data type — check_data_type","text":"","code":"check_data_type(data_type)"},{"path":"https://rodrigozepeda.github.io/tbl.now/reference/check_data_type.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Check the data type — check_data_type","text":"data_type (optional) Character. Either \"auto\", \"linelist\" \"count\".","code":""},{"path":"https://rodrigozepeda.github.io/tbl.now/reference/check_data_type.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Check the data type — check_data_type","text":"`TRUE` (invisible) data_type one valid types model's inference.","code":""},{"path":"https://rodrigozepeda.github.io/tbl.now/reference/check_date_columns.html","id":null,"dir":"Reference","previous_headings":"","what":"Check the onset and report dates — check_date_columns","title":"Check the onset and report dates — check_date_columns","text":"Check onset report dates","code":""},{"path":"https://rodrigozepeda.github.io/tbl.now/reference/check_date_columns.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Check the onset and report dates — check_date_columns","text":"","code":"check_date_columns(data, event_date, report_date)"},{"path":"https://rodrigozepeda.github.io/tbl.now/reference/check_date_columns.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Check the onset and report dates — check_date_columns","text":"data `data.frame` converted. event_date Character. name column containing event date. report_date Character. name column containing report date.","code":""},{"path":"https://rodrigozepeda.github.io/tbl.now/reference/check_date_columns.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Check the onset and report dates — check_date_columns","text":"`TRUE` (invisible) `event_date` `report_date` date columns present data `event_date` <= `report_date` observations. Called side effects","code":""},{"path":"https://rodrigozepeda.github.io/tbl.now/reference/check_delay_is_censored.html","id":null,"dir":"Reference","previous_headings":"","what":"Check the delay_is_censored column — check_delay_is_censored","title":"Check the delay_is_censored column — check_delay_is_censored","text":"`delay_is_censored` column values 0 1. idea indicate whether different column `data` censored values.","code":""},{"path":"https://rodrigozepeda.github.io/tbl.now/reference/check_delay_is_censored.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Check the delay_is_censored column — check_delay_is_censored","text":"","code":"check_delay_is_censored(data, delay_is_censored)"},{"path":"https://rodrigozepeda.github.io/tbl.now/reference/check_delay_is_censored.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Check the delay_is_censored column — check_delay_is_censored","text":"data `data.frame` converted.","code":""},{"path":"https://rodrigozepeda.github.io/tbl.now/reference/check_delay_is_censored.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Check the delay_is_censored column — check_delay_is_censored","text":"(invisible) `TRUE` column `delay_is_censored` NULL valid values tibble `data`.","code":""},{"path":"https://rodrigozepeda.github.io/tbl.now/reference/check_now.html","id":null,"dir":"Reference","previous_headings":"","what":"Check the `now` argument — check_now","title":"Check the `now` argument — check_now","text":"Checks `now` argument date within range data","code":""},{"path":"https://rodrigozepeda.github.io/tbl.now/reference/check_now.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Check the `now` argument — check_now","text":"","code":"check_now(data, event_date, report_date, now)"},{"path":"https://rodrigozepeda.github.io/tbl.now/reference/check_now.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Check the `now` argument — check_now","text":"data `data.frame` converted. event_date Character. name column containing event date. report_date Character. name column containing report date. now (optional) Date `NULL` (default). date considered `now` nowcast. `now` given function automatically uses last `event_date`.","code":""},{"path":"https://rodrigozepeda.github.io/tbl.now/reference/check_now.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Check the `now` argument — check_now","text":"(invisible) TRUE `now` date achievable considering `data` dataset columns `event_date` `report_date`","code":""},{"path":"https://rodrigozepeda.github.io/tbl.now/reference/check_strata.html","id":null,"dir":"Reference","previous_headings":"","what":"Check the strata columns — check_strata","title":"Check the strata columns — check_strata","text":"`strata` columns present data character, integers, factors.","code":""},{"path":"https://rodrigozepeda.github.io/tbl.now/reference/check_strata.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Check the strata columns — check_strata","text":"","code":"check_strata(data, strata)"},{"path":"https://rodrigozepeda.github.io/tbl.now/reference/check_strata.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Check the strata columns — check_strata","text":"data `data.frame` converted. strata (optional) Character vector `NULL` (default). Name different variables (column names) strata. Strata correspond variables interest . example interest generate nowcasts gender `gender` `strata`.","code":""},{"path":"https://rodrigozepeda.github.io/tbl.now/reference/check_strata.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Check the strata columns — check_strata","text":"(invisible) `TRUE` columns `strata` NULL character, integers, factors tibble `data`.","code":""},{"path":"https://rodrigozepeda.github.io/tbl.now/reference/check_units.html","id":null,"dir":"Reference","previous_headings":"","what":"Check the `date_units` argument — check_units","title":"Check the `date_units` argument — check_units","text":"Check `date_units` argument","code":""},{"path":"https://rodrigozepeda.github.io/tbl.now/reference/check_units.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Check the `date_units` argument — check_units","text":"","code":"check_units(data, date_units)"},{"path":"https://rodrigozepeda.github.io/tbl.now/reference/check_units.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Check the `date_units` argument — check_units","text":"data `data.frame` converted.","code":""},{"path":"https://rodrigozepeda.github.io/tbl.now/reference/check_units.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Check the `date_units` argument — check_units","text":"(invisible) `TRUE` date_units valid NULL","code":""},{"path":"https://rodrigozepeda.github.io/tbl.now/reference/check_verbose.html","id":null,"dir":"Reference","previous_headings":"","what":"Check the `verbose` argument among the options — check_verbose","title":"Check the `verbose` argument among the options — check_verbose","text":"Check `verbose` argument among options","code":""},{"path":"https://rodrigozepeda.github.io/tbl.now/reference/check_verbose.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Check the `verbose` argument among the options — check_verbose","text":"","code":"check_verbose(verbose)"},{"path":"https://rodrigozepeda.github.io/tbl.now/reference/check_verbose.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Check the `verbose` argument among the options — check_verbose","text":"verbose (optional) Logical. Whether throw message. Default = `TRUE`.","code":""},{"path":"https://rodrigozepeda.github.io/tbl.now/reference/check_verbose.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Check the `verbose` argument among the options — check_verbose","text":"(invisible) `TRUE` verbose argument valid","code":""},{"path":"https://rodrigozepeda.github.io/tbl.now/reference/covidat.html","id":null,"dir":"Reference","previous_headings":"","what":"covidat: COVID-19 reporting data from Mexico City (2020-2022) — covidat","title":"covidat: COVID-19 reporting data from Mexico City (2020-2022) — covidat","text":"Surveillance count data provided Mexico City's Health Ministry https://datos.cdmx.gob.mx/dataset/base-covid-sinave. Data comes National System Epidemiologic Surveillance (SINAVE) corresponds update January 9th 2024, 12:35 (UTC-05:00). dataset includes confirmed COVID-19 cases registered city. original dataset aggregated pre-processed described note .","code":""},{"path":"https://rodrigozepeda.github.io/tbl.now/reference/covidat.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"covidat: COVID-19 reporting data from Mexico City (2020-2022) — covidat","text":"","code":"data(covidat)"},{"path":"https://rodrigozepeda.github.io/tbl.now/reference/covidat.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"covidat: COVID-19 reporting data from Mexico City (2020-2022) — covidat","text":"data frame.","code":""},{"path":"https://rodrigozepeda.github.io/tbl.now/reference/covidat.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"covidat: COVID-19 reporting data from Mexico City (2020-2022) — covidat","text":"count data row representing case counts. columns follows: date_of_registry: date report registered database. date_of_symptom_onset: date patient reported symptoms started. sex: biological sex (either male female) n: case count individuals within dates sex","code":""},{"path":"https://rodrigozepeda.github.io/tbl.now/reference/covidat.html","id":"note","dir":"Reference","previous_headings":"","what":"Note","title":"covidat: COVID-19 reporting data from Mexico City (2020-2022) — covidat","text":"Dates provided present dataset contain errors. Theoretically individual date_of_symptom_onset date_of_registry; however database contain cases like close practitioners find wild.","code":""},{"path":"https://rodrigozepeda.github.io/tbl.now/reference/covidat.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"covidat: COVID-19 reporting data from Mexico City (2020-2022) — covidat","text":"","code":"data(covidat)"},{"path":"https://rodrigozepeda.github.io/tbl.now/reference/denguedat.html","id":null,"dir":"Reference","previous_headings":"","what":"denguedat: Dengue fever individual-level reporting data from Puerto Rico — denguedat","title":"denguedat: Dengue fever individual-level reporting data from Puerto Rico — denguedat","text":"Surveillance data CDC Division Vector-Borne Diseases. 1990-2010 case reporting data included.","code":""},{"path":"https://rodrigozepeda.github.io/tbl.now/reference/denguedat.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"denguedat: Dengue fever individual-level reporting data from Puerto Rico — denguedat","text":"","code":"data(denguedat)"},{"path":"https://rodrigozepeda.github.io/tbl.now/reference/denguedat.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"denguedat: Dengue fever individual-level reporting data from Puerto Rico — denguedat","text":"data frame.","code":""},{"path":"https://rodrigozepeda.github.io/tbl.now/reference/denguedat.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"denguedat: Dengue fever individual-level reporting data from Puerto Rico — denguedat","text":"row represents case columns indicating following: onset_week:  week symptom onset. report_week: week case report. gender: gender infected individual (randomly assigned 0.5:0.5 probability \"Male\"/\"Female\").","code":""},{"path":"https://rodrigozepeda.github.io/tbl.now/reference/denguedat.html","id":"note","dir":"Reference","previous_headings":"","what":"Note","title":"denguedat: Dengue fever individual-level reporting data from Puerto Rico — denguedat","text":"Data originally NobBS package. onset_week report_week correspond actual observed data gender constructed exclusively examples NobBS. synthetic (simulated) variable correspond reality.","code":""},{"path":"https://rodrigozepeda.github.io/tbl.now/reference/denguedat.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"denguedat: Dengue fever individual-level reporting data from Puerto Rico — denguedat","text":"MCGOUGH, Sarah F., et al. Nowcasting Bayesian Smoothing: flexible, generalizable model real-time epidemic tracking. PLoS computational biology, 2020, vol. 16, 4, p. e1007735.","code":""},{"path":"https://rodrigozepeda.github.io/tbl.now/reference/denguedat.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"denguedat: Dengue fever individual-level reporting data from Puerto Rico — denguedat","text":"","code":"data(denguedat)"},{"path":"https://rodrigozepeda.github.io/tbl.now/reference/infer_data_type.html","id":null,"dir":"Reference","previous_headings":"","what":"Automatically infer the `data_type` — infer_data_type","title":"Automatically infer the `data_type` — infer_data_type","text":"Infers whether data line-data count-data whether () column named `n`","code":""},{"path":"https://rodrigozepeda.github.io/tbl.now/reference/infer_data_type.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Automatically infer the `data_type` — infer_data_type","text":"","code":"infer_data_type(data, data_type, verbose = FALSE)"},{"path":"https://rodrigozepeda.github.io/tbl.now/reference/infer_data_type.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Automatically infer the `data_type` — infer_data_type","text":"data `data.frame` converted. data_type (optional) Character. Either \"auto\", \"linelist\" \"count\". verbose (optional) Logical. Whether throw message. Default = `TRUE`.","code":""},{"path":"https://rodrigozepeda.github.io/tbl.now/reference/infer_data_type.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Automatically infer the `data_type` — infer_data_type","text":"Whether data `count` `linelist`","code":""},{"path":"https://rodrigozepeda.github.io/tbl.now/reference/infer_now.html","id":null,"dir":"Reference","previous_headings":"","what":"Automatically infer the `now`. — infer_now","title":"Automatically infer the `now`. — infer_now","text":"Function returns maximum onset date `data` `now = NULL`. Else returns `now` given.","code":""},{"path":"https://rodrigozepeda.github.io/tbl.now/reference/infer_now.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Automatically infer the `now`. — infer_now","text":"","code":"infer_now(data, now, event_date, report_date)"},{"path":"https://rodrigozepeda.github.io/tbl.now/reference/infer_now.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Automatically infer the `now`. — infer_now","text":"`now` value nowcast can last date data specified user","code":""},{"path":"https://rodrigozepeda.github.io/tbl.now/reference/infer_now.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Automatically infer the `now`. — infer_now","text":"@inheritParams tbl_now","code":""},{"path":"https://rodrigozepeda.github.io/tbl.now/reference/infer_now.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Automatically infer the `now`. — infer_now","text":"","code":"if (FALSE) { # \\dontrun{ #Get the maximum report date ddata <- data.frame(     event_date   = c(as.Date(\"2020/07/08\"), as.Date(\"2020/07/09\")),     report_date = c(as.Date(\"2020/07/11\"), as.Date(\"2020/07/12\")) ) infer_now(ddata, NULL, event_date = \"event_date\", report_date = \"report_date\")  #Otherwise get the date given infer_now(ddata, as.Date(\"2020/07/11\"), event_date = \"event_date\",   report_date = \"report_date\") } # }"},{"path":"https://rodrigozepeda.github.io/tbl.now/reference/infer_units.html","id":null,"dir":"Reference","previous_headings":"","what":"Automatically infer which value is `date_units` — infer_units","title":"Automatically infer which value is `date_units` — infer_units","text":"Function returns whether data daily weekly `date_column`.","code":""},{"path":"https://rodrigozepeda.github.io/tbl.now/reference/infer_units.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Automatically infer which value is `date_units` — infer_units","text":"","code":"infer_units(data, date_column, date_units)"},{"path":"https://rodrigozepeda.github.io/tbl.now/reference/infer_units.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Automatically infer which value is `date_units` — infer_units","text":"Whether data's date_units `days` `weeks`.","code":""},{"path":"https://rodrigozepeda.github.io/tbl.now/reference/infer_units.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Automatically infer which value is `date_units` — infer_units","text":"@inheritParams tbl_now","code":""},{"path":"https://rodrigozepeda.github.io/tbl.now/reference/infer_units_one_column.html","id":null,"dir":"Reference","previous_headings":"","what":"Automatically infer which value is `date_units` for one column. — infer_units_one_column","title":"Automatically infer which value is `date_units` for one column. — infer_units_one_column","text":"Function returns whether data daily weekly `date_column`.","code":""},{"path":"https://rodrigozepeda.github.io/tbl.now/reference/infer_units_one_column.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Automatically infer which value is `date_units` for one column. — infer_units_one_column","text":"","code":"infer_units_one_column(data, date_column, date_units)"},{"path":"https://rodrigozepeda.github.io/tbl.now/reference/infer_units_one_column.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Automatically infer which value is `date_units` for one column. — infer_units_one_column","text":"date_column Name column `data` contains dates.","code":""},{"path":"https://rodrigozepeda.github.io/tbl.now/reference/infer_units_one_column.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Automatically infer which value is `date_units` for one column. — infer_units_one_column","text":"Whether data's date_units `days`, `weeks`, `months`, `years` `numeric`.","code":""},{"path":"https://rodrigozepeda.github.io/tbl.now/reference/infer_units_one_column.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Automatically infer which value is `date_units` for one column. — infer_units_one_column","text":"@inheritParams tbl_now","code":""},{"path":"https://rodrigozepeda.github.io/tbl.now/reference/infer_units_one_column.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Automatically infer which value is `date_units` for one column. — infer_units_one_column","text":"","code":"if (FALSE) { # \\dontrun{ #Get the maximum report date and infer the data distribution daily_data <- data.frame(     event_date   = c(as.Date(\"2020/07/08\"), as.Date(\"2020/07/09\"), as.Date(\"2020/07/10\")),     report_date = c(as.Date(\"2020/07/11\"), as.Date(\"2020/07/12\"), as.Date(\"2020/07/14\")) ) infer_units_one_column(daily_data, NULL, \"report_date\")  #Get the maximum report date and infer the data distribution weekly_data <- data.frame(     event_date   = c(as.Date(\"2020/07/08\"), as.Date(\"2020/07/15\"), as.Date(\"2020/07/22\")),     report_date = c(as.Date(\"2020/07/11\"), as.Date(\"2020/07/18\"), as.Date(\"2020/07/25\")) ) infer_units_one_column(weekly_data, NULL, \"report_date\")  #Or just input the type infer_units_one_column(weekly_data, \"weeks\", \"report_date\")  #Also works with numeric infer_units_one_column(tibble(report_date = 1:20), date_units = \"auto\", \"report_date\")  } # }"},{"path":"https://rodrigozepeda.github.io/tbl.now/reference/is_tbl_now.html","id":null,"dir":"Reference","previous_headings":"","what":"Check if an object is a tbl_now — is_tbl_now","title":"Check if an object is a tbl_now — is_tbl_now","text":"Check object tbl_now","code":""},{"path":"https://rodrigozepeda.github.io/tbl.now/reference/is_tbl_now.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Check if an object is a tbl_now — is_tbl_now","text":"","code":"is_tbl_now(x)"},{"path":"https://rodrigozepeda.github.io/tbl.now/reference/is_tbl_now.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Check if an object is a tbl_now — is_tbl_now","text":"x R object","code":""},{"path":"https://rodrigozepeda.github.io/tbl.now/reference/is_tbl_now.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Check if an object is a tbl_now — is_tbl_now","text":"(boolean) `TRUE` object `tbl_now` `FALSE` .","code":""},{"path":"https://rodrigozepeda.github.io/tbl.now/reference/is_tbl_now.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Check if an object is a tbl_now — is_tbl_now","text":"","code":"is_tbl_now(data.frame(x = 1:3)) #> [1] FALSE  xval <- data.frame(x = 1:3) class(xval) <- c(\"tbl_now\", \"data.frame\") is_tbl_now(xval) #> [1] FALSE"},{"path":"https://rodrigozepeda.github.io/tbl.now/reference/mpoxdat.html","id":null,"dir":"Reference","previous_headings":"","what":"mpoxdat: Mpox reporting data from the 2022 New York City outbreak — mpoxdat","title":"mpoxdat: Mpox reporting data from the 2022 New York City outbreak — mpoxdat","text":"Surveillance line list data provided New York City (NYC) Health Department https://github.com/nychealth/mpox_nowcast_eval, accompany nowcasting performance evaluation (doi: 10.2196/56495). Patients confirmed probable mpox diagnosis illness onset July 8 September 30, 2022 included. original dataset aggregated pre-processed described note .","code":""},{"path":"https://rodrigozepeda.github.io/tbl.now/reference/mpoxdat.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"mpoxdat: Mpox reporting data from the 2022 New York City outbreak — mpoxdat","text":"","code":"data(mpoxdat)"},{"path":"https://rodrigozepeda.github.io/tbl.now/reference/mpoxdat.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"mpoxdat: Mpox reporting data from the 2022 New York City outbreak — mpoxdat","text":"data frame.","code":""},{"path":"https://rodrigozepeda.github.io/tbl.now/reference/mpoxdat.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"mpoxdat: Mpox reporting data from the 2022 New York City outbreak — mpoxdat","text":"line-list data row representing case counts. columns follows: dx_date: specimen collection date first positive mpox laboratory result, dx_report_date: date report first positive mpox laboratory result received NYC Health Department, n: case count individuals within dates. race: race corresponding cases. Race randomly assigned probabilities \"Non-Hispanic White\" = 0.309, \"Hispanic\" = 0.283, \"Black\" = 0.202, \"Asian\" = 0.156, \"\" = 0.05 follow reported US Census.","code":""},{"path":"https://rodrigozepeda.github.io/tbl.now/reference/mpoxdat.html","id":"note","dir":"Reference","previous_headings":"","what":"Note","title":"mpoxdat: Mpox reporting data from the 2022 New York City outbreak — mpoxdat","text":"dx_date, dx_report_date n correspond actual observed data race constructed exclusively examples package. synthetic (simulated) variable correspond reality.","code":""},{"path":"https://rodrigozepeda.github.io/tbl.now/reference/mpoxdat.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"mpoxdat: Mpox reporting data from the 2022 New York City outbreak — mpoxdat","text":"ROHRER, Rebecca, et al. Nowcasting Monitor Real-Time Mpox Trends 2022 Outbreak New York City: Evaluation Using Reportable Disease Data Stratified Race Ethnicity. Online Journal Public Health Informatics, 2025, vol. 17, 1, p. e56495.","code":""},{"path":"https://rodrigozepeda.github.io/tbl.now/reference/mpoxdat.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"mpoxdat: Mpox reporting data from the 2022 New York City outbreak — mpoxdat","text":"","code":"data(mpoxdat)"},{"path":"https://rodrigozepeda.github.io/tbl.now/reference/names-set-.tbl_now.html","id":null,"dir":"Reference","previous_headings":"","what":"Set names on `tbl_now` class — names<-.tbl_now","title":"Set names on `tbl_now` class — names<-.tbl_now","text":"modifying names invalidates `tbl_now` object subsetting return data frame attributes class preserved.","code":""},{"path":"https://rodrigozepeda.github.io/tbl.now/reference/names-set-.tbl_now.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Set names on `tbl_now` class — names<-.tbl_now","text":"","code":"# S3 method for class 'tbl_now' names(x) <- value"},{"path":"https://rodrigozepeda.github.io/tbl.now/reference/names-set-.tbl_now.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Set names on `tbl_now` class — names<-.tbl_now","text":"x R object. value character vector length x,     NULL.","code":""},{"path":"https://rodrigozepeda.github.io/tbl.now/reference/names-set-.tbl_now.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Set names on `tbl_now` class — names<-.tbl_now","text":"`tbl_now` object `data.frame`","code":""},{"path":"https://rodrigozepeda.github.io/tbl.now/reference/new_grouped_tbl_now.html","id":null,"dir":"Reference","previous_headings":"","what":"Grouped tbl_now — new_grouped_tbl_now","title":"Grouped tbl_now — new_grouped_tbl_now","text":"Grouped tbl_now","code":""},{"path":"https://rodrigozepeda.github.io/tbl.now/reference/new_grouped_tbl_now.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Grouped tbl_now — new_grouped_tbl_now","text":"","code":"new_grouped_tbl_now(x, groups)"},{"path":"https://rodrigozepeda.github.io/tbl.now/reference/new_grouped_tbl_now.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Grouped tbl_now — new_grouped_tbl_now","text":"x `tbl_now` groups Column grops group_by","code":""},{"path":"https://rodrigozepeda.github.io/tbl.now/reference/nowcast_data_getters.html","id":null,"dir":"Reference","previous_headings":"","what":"Getters for tbl_now attributes — nowcast_data_getters","title":"Getters for tbl_now attributes — nowcast_data_getters","text":"functions extract metadata attributes `tbl_now` object. function returns specific attribute (e.g. event date, strata, covariates, etc.).","code":""},{"path":"https://rodrigozepeda.github.io/tbl.now/reference/nowcast_data_getters.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Getters for tbl_now attributes — nowcast_data_getters","text":"","code":"get_event_date(x)  get_report_date(x)  get_strata(x)  get_num_strata(x)  get_covariates(x)  get_num_covariates(x)  get_now(x)  get_report_units(x)  get_event_units(x)  get_data_type(x)  get_is_batched(x)"},{"path":"https://rodrigozepeda.github.io/tbl.now/reference/nowcast_data_getters.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Getters for tbl_now attributes — nowcast_data_getters","text":"x `tbl_now` object.","code":""},{"path":"https://rodrigozepeda.github.io/tbl.now/reference/nowcast_data_getters.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Getters for tbl_now attributes — nowcast_data_getters","text":"requested attribute (character, date, logical, etc.).","code":""},{"path":"https://rodrigozepeda.github.io/tbl.now/reference/pipe.html","id":null,"dir":"Reference","previous_headings":"","what":"Pipe operator — %>%","title":"Pipe operator — %>%","text":"See magrittr::%>% details.","code":""},{"path":"https://rodrigozepeda.github.io/tbl.now/reference/pipe.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Pipe operator — %>%","text":"","code":"lhs %>% rhs"},{"path":"https://rodrigozepeda.github.io/tbl.now/reference/pipe.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Pipe operator — %>%","text":"lhs value dplyr placeholder. rhs function call using dplyr semantics.","code":""},{"path":"https://rodrigozepeda.github.io/tbl.now/reference/pipe.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Pipe operator — %>%","text":"result calling `rhs(lhs)`.","code":""},{"path":"https://rodrigozepeda.github.io/tbl.now/reference/sub-.tbl_now.html","id":null,"dir":"Reference","previous_headings":"","what":"Subset function for `tbl_now` with downgrade-on-subsetting — [.tbl_now","title":"Subset function for `tbl_now` with downgrade-on-subsetting — [.tbl_now","text":"subsetting invalidates class `data.frame` returned.","code":""},{"path":"https://rodrigozepeda.github.io/tbl.now/reference/sub-.tbl_now.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Subset function for `tbl_now` with downgrade-on-subsetting — [.tbl_now","text":"","code":"# S3 method for class 'tbl_now' x[...]"},{"path":"https://rodrigozepeda.github.io/tbl.now/reference/sub-.tbl_now.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Subset function for `tbl_now` with downgrade-on-subsetting — [.tbl_now","text":"x `tbl_now` object ... arguments passed methods.","code":""},{"path":"https://rodrigozepeda.github.io/tbl.now/reference/sub-.tbl_now.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Subset function for `tbl_now` with downgrade-on-subsetting — [.tbl_now","text":"`tbl_now` object `data.frame`","code":""},{"path":"https://rodrigozepeda.github.io/tbl.now/reference/tbl.now-package.html","id":null,"dir":"Reference","previous_headings":"","what":"tbl.now: Tibble Extension for Nowcasts — tbl.now-package","title":"tbl.now: Tibble Extension for Nowcasts — tbl.now-package","text":"Provides 'tbl_now' class temporal data performing nowcasts. 'tbl_now' allows easy manipulation event dates, report dates, strata covariates implementing different nowcasting models time permiting ease use `dplyr` functions.","code":""},{"path":[]},{"path":"https://rodrigozepeda.github.io/tbl.now/reference/tbl.now-package.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"tbl.now: Tibble Extension for Nowcasts — tbl.now-package","text":"Maintainer: Rodrigo Zepeda-Tello rzepeda17@gmail.com (ORCID) Authors: Rami Yaari (ORCID) Matteo Perini (ORCID) contributors: Teresa Yamana (ORCID) [contributor] Jeffrey Shaman [contributor] Columbia University City New York [copyright holder, funder]","code":""},{"path":"https://rodrigozepeda.github.io/tbl.now/reference/tbl_now.html","id":null,"dir":"Reference","previous_headings":"","what":"Create a `tbl_now` object — tbl_now","title":"Create a `tbl_now` object — tbl_now","text":"special `data.frame` class includes information nowcast. See Attributes section information.","code":""},{"path":"https://rodrigozepeda.github.io/tbl.now/reference/tbl_now.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Create a `tbl_now` object — tbl_now","text":"","code":"new_tbl_now(   data,   event_date,   report_date,   strata = NULL,   covariates = NULL,   is_batched = NULL,   now = NULL,   event_units = \"auto\",   report_units = \"auto\",   data_type = \"auto\",   verbose = TRUE,   force = FALSE,   ... )  tbl_now(   data,   event_date,   report_date,   strata = NULL,   covariates = NULL,   is_batched = NULL,   now = NULL,   event_units = \"auto\",   report_units = \"auto\",   data_type = \"auto\",   verbose = TRUE,   ... )"},{"path":"https://rodrigozepeda.github.io/tbl.now/reference/tbl_now.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Create a `tbl_now` object — tbl_now","text":"data `data.frame` converted. event_date Character. name column containing event date. report_date Character. name column containing report date. strata (optional) Character vector `NULL` (default). Name different variables (column names) strata. Strata correspond variables interest . example interest generate nowcasts gender `gender` `strata`. covariates (optional) Character vector `NULL` (default). Name different variables (column names) influence nowcast strata. example precipitation might influence dengue nowcast general interest generate nowcasts precipitation levels. is_batched (optional) Character `NULL` (default). name column containing either `TRUE` `FALSE` indicating whether `report_date` correctly specified corresponds `batch` thus censored. words, `report_date` accurately measured set `report_date = TRUE` `report_date` corresponds error upper bound real, idealized, report date set `is_batched = TRUE`. now (optional) Date `NULL` (default). date considered `now` nowcast. `now` given function automatically uses last `event_date`. event_units (optional) Character. Either \"auto\" (default), \"days\", \"weeks\", \"months\", \"years\" \"numeric\". report_units (optional) Character. Either \"auto\" (default), \"days\", \"weeks\", \"months\", \"years\" \"numeric\". data_type (optional) Character. Either \"auto\", \"linelist\" \"count\". verbose (optional) Logical. Whether throw message. Default = `TRUE`. force (optional) Logical. Whether force computation overwriting pre-existing variables. Default = `FALSE`. ... Additional metadata stored attributes.","code":""},{"path":"https://rodrigozepeda.github.io/tbl.now/reference/tbl_now.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Create a `tbl_now` object — tbl_now","text":"object class `tbl_now`.","code":""},{"path":"https://rodrigozepeda.github.io/tbl.now/reference/tbl_now.html","id":"attributes","dir":"Reference","previous_headings":"","what":"Attributes","title":"Create a `tbl_now` object — tbl_now","text":"following attributes part `tbl_now` validated [validate_tbl_now()] function: event_date Name column refering event interest. report_date Name column refering event interest reported. strata Names columns corresponding strata (modelling). num_strata Number strata. Corresponds `length(strata)`. covariates Names columns corresponding covariates (modelling). num_covariates Number covariates Corresponds `length(covariates)`. now Date `now` nowcast. is_batched Column indicating whether measurement noisy (upper bound) . event_units Either `days`, `weeks`, `months`, `years` `numeric`. Corresponds units `event_date` report_units Either `days`, `weeks`, `months`, `years` `numeric`. Corresponds units `report_date` repot_num Column `report_date` transformed numeric values event_num Column `event_date` transformed numeric values data_type Either `linelist` `count` depending whether linelist data   count data","code":""},{"path":"https://rodrigozepeda.github.io/tbl.now/reference/tbl_now.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Create a `tbl_now` object — tbl_now","text":"","code":"# The `tbl_now` is a data.frame with additional attributes data(denguedat) ndata <- tbl_now(denguedat,     event_date = \"onset_week\",     report_date = \"report_week\",     strata = \"gender\") #> ℹ Identified data as linelist-data where each observation is a test.  # You can see that it documents the `event_date`, `report_date`, `strata`, # `covariates` as well as the `now`. ndata #> # A tibble:  52,987 × 5 #> # Data type: \"linelist\" #> # Frequency: Event: `weeks` | Report: `weeks` #>    onset_week   report_week   gender   .event_num .report_num #>    <date>       <date>        <chr>         <dbl>       <dbl> #>    [event_date] [report_date] [strata]      [...]       [...] #>  1 1990-01-01   1990-01-01    Male              0           0 #>  2 1990-01-01   1990-01-01    Female            0           0 #>  3 1990-01-01   1990-01-01    Female            0           0 #>  4 1990-01-01   1990-01-08    Female            0           1 #>  5 1990-01-01   1990-01-08    Male              0           1 #>  6 1990-01-01   1990-01-15    Female            0           2 #>  7 1990-01-01   1990-01-15    Female            0           2 #>  8 1990-01-01   1990-01-15    Female            0           2 #>  9 1990-01-01   1990-01-22    Female            0           3 #> 10 1990-01-01   1990-01-08    Female            0           1 #> # ──────────────────────────────────────────────────────────────────────────────── #> # Now: 2010-12-20 | Event date: \"onset_week\" | Report date: \"report_week\" #> # Strata: \"gender\" #> # ──────────────────────────────────────────────────────────────────────────────── #> # ℹ 52,977 more rows   #A `tbl_now` is an extension of a `tibble` which means normal #`data.frame` operations are permitted ndata$newcolumn <- \"something\" ndata #> # A tibble:  52,987 × 6 #> # Data type: \"linelist\" #> # Frequency: Event: `weeks` | Report: `weeks` #>    onset_week   report_week   gender   .event_num .report_num newcolumn #>    <date>       <date>        <chr>         <dbl>       <dbl> <chr>     #>    [event_date] [report_date] [strata]      [...]       [...] [...]     #>  1 1990-01-01   1990-01-01    Male              0           0 something #>  2 1990-01-01   1990-01-01    Female            0           0 something #>  3 1990-01-01   1990-01-01    Female            0           0 something #>  4 1990-01-01   1990-01-08    Female            0           1 something #>  5 1990-01-01   1990-01-08    Male              0           1 something #>  6 1990-01-01   1990-01-15    Female            0           2 something #>  7 1990-01-01   1990-01-15    Female            0           2 something #>  8 1990-01-01   1990-01-15    Female            0           2 something #>  9 1990-01-01   1990-01-22    Female            0           3 something #> 10 1990-01-01   1990-01-08    Female            0           1 something #> # ──────────────────────────────────────────────────────────────────────────────── #> # Now: 2010-12-20 | Event date: \"onset_week\" | Report date: \"report_week\" #> # Strata: \"gender\" #> # ──────────────────────────────────────────────────────────────────────────────── #> # ℹ 52,977 more rows  #Like removing a column ndata <- ndata[,-4] #> Warning: Dropped protected column(?s): \".event_num\". Returning a `tibble` ndata #> # A tibble: 52,987 × 5 #>    onset_week report_week gender .report_num newcolumn #>    <date>     <date>      <chr>        <dbl> <chr>     #>  1 1990-01-01 1990-01-01  Male             0 something #>  2 1990-01-01 1990-01-01  Female           0 something #>  3 1990-01-01 1990-01-01  Female           0 something #>  4 1990-01-01 1990-01-08  Female           1 something #>  5 1990-01-01 1990-01-08  Male             1 something #>  6 1990-01-01 1990-01-15  Female           2 something #>  7 1990-01-01 1990-01-15  Female           2 something #>  8 1990-01-01 1990-01-15  Female           2 something #>  9 1990-01-01 1990-01-22  Female           3 something #> 10 1990-01-01 1990-01-08  Female           1 something #> # ℹ 52,977 more rows  #Like selecting ndata[1:10,] #> # A tibble: 10 × 5 #>    onset_week report_week gender .report_num newcolumn #>    <date>     <date>      <chr>        <dbl> <chr>     #>  1 1990-01-01 1990-01-01  Male             0 something #>  2 1990-01-01 1990-01-01  Female           0 something #>  3 1990-01-01 1990-01-01  Female           0 something #>  4 1990-01-01 1990-01-08  Female           1 something #>  5 1990-01-01 1990-01-08  Male             1 something #>  6 1990-01-01 1990-01-15  Female           2 something #>  7 1990-01-01 1990-01-15  Female           2 something #>  8 1990-01-01 1990-01-15  Female           2 something #>  9 1990-01-01 1990-01-22  Female           3 something #> 10 1990-01-01 1990-01-08  Female           1 something ndata #> # A tibble: 52,987 × 5 #>    onset_week report_week gender .report_num newcolumn #>    <date>     <date>      <chr>        <dbl> <chr>     #>  1 1990-01-01 1990-01-01  Male             0 something #>  2 1990-01-01 1990-01-01  Female           0 something #>  3 1990-01-01 1990-01-01  Female           0 something #>  4 1990-01-01 1990-01-08  Female           1 something #>  5 1990-01-01 1990-01-08  Male             1 something #>  6 1990-01-01 1990-01-15  Female           2 something #>  7 1990-01-01 1990-01-15  Female           2 something #>  8 1990-01-01 1990-01-15  Female           2 something #>  9 1990-01-01 1990-01-22  Female           3 something #> 10 1990-01-01 1990-01-08  Female           1 something #> # ℹ 52,977 more rows  #You can also apply all dplyr functions: ndata %>%   dplyr::filter(report_week <= as.Date(\"1991-01-02\", format = \"%Y-%m-%d\")) #> # A tibble: 1,981 × 5 #>    onset_week report_week gender .report_num newcolumn #>    <date>     <date>      <chr>        <dbl> <chr>     #>  1 1990-01-01 1990-01-01  Male             0 something #>  2 1990-01-01 1990-01-01  Female           0 something #>  3 1990-01-01 1990-01-01  Female           0 something #>  4 1990-01-01 1990-01-08  Female           1 something #>  5 1990-01-01 1990-01-08  Male             1 something #>  6 1990-01-01 1990-01-15  Female           2 something #>  7 1990-01-01 1990-01-15  Female           2 something #>  8 1990-01-01 1990-01-15  Female           2 something #>  9 1990-01-01 1990-01-22  Female           3 something #> 10 1990-01-01 1990-01-08  Female           1 something #> # ℹ 1,971 more rows  #Removing an important column automatically transforms to tibble #losing its property suppressWarnings(   ndata %>%     dplyr::select(-onset_week) ) #> # A tibble: 52,987 × 4 #>    report_week gender .report_num newcolumn #>    <date>      <chr>        <dbl> <chr>     #>  1 1990-01-01  Male             0 something #>  2 1990-01-01  Female           0 something #>  3 1990-01-01  Female           0 something #>  4 1990-01-08  Female           1 something #>  5 1990-01-08  Male             1 something #>  6 1990-01-15  Female           2 something #>  7 1990-01-15  Female           2 something #>  8 1990-01-15  Female           2 something #>  9 1990-01-22  Female           3 something #> 10 1990-01-08  Female           1 something #> # ℹ 52,977 more rows  #Removing strata just changes the overall structure ndata %>% dplyr::select(-gender) #> # A tibble: 52,987 × 4 #>    onset_week report_week .report_num newcolumn #>    <date>     <date>            <dbl> <chr>     #>  1 1990-01-01 1990-01-01            0 something #>  2 1990-01-01 1990-01-01            0 something #>  3 1990-01-01 1990-01-01            0 something #>  4 1990-01-01 1990-01-08            1 something #>  5 1990-01-01 1990-01-08            1 something #>  6 1990-01-01 1990-01-15            2 something #>  7 1990-01-01 1990-01-15            2 something #>  8 1990-01-01 1990-01-15            2 something #>  9 1990-01-01 1990-01-22            3 something #> 10 1990-01-01 1990-01-08            1 something #> # ℹ 52,977 more rows"},{"path":"https://rodrigozepeda.github.io/tbl.now/reference/tbl_now_can_reconstruct.html","id":null,"dir":"Reference","previous_headings":"","what":"Checks whether the `tbl_now` object is valid — tbl_now_can_reconstruct","title":"Checks whether the `tbl_now` object is valid — tbl_now_can_reconstruct","text":"wrapper [`validate_tbl_now`] [`tryCatch()`] order error input object invalid returns `TRUE` `FALSE` object valid. object valid can \"reconstructed\" downgraded `data.frame`.","code":""},{"path":"https://rodrigozepeda.github.io/tbl.now/reference/tbl_now_can_reconstruct.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Checks whether the `tbl_now` object is valid — tbl_now_can_reconstruct","text":"","code":"tbl_now_can_reconstruct(data)"},{"path":"https://rodrigozepeda.github.io/tbl.now/reference/tbl_now_can_reconstruct.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Checks whether the `tbl_now` object is valid — tbl_now_can_reconstruct","text":"data `data.frame` converted.","code":""},{"path":"https://rodrigozepeda.github.io/tbl.now/reference/tbl_now_can_reconstruct.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Checks whether the `tbl_now` object is valid — tbl_now_can_reconstruct","text":"boolean logical (`TRUE` `FALSE`)","code":""},{"path":"https://rodrigozepeda.github.io/tbl.now/reference/tbl_now_reconstruct.html","id":null,"dir":"Reference","previous_headings":"","what":"Decides whether `tbl_now` object can be reconstructed from input — tbl_now_reconstruct","title":"Decides whether `tbl_now` object can be reconstructed from input — tbl_now_reconstruct","text":"Uses [`tbl_now_reconstruct_internal()`] determine whether data input can reconstructed valid `tbl_now` object. can , returned `data.frame`.","code":""},{"path":"https://rodrigozepeda.github.io/tbl.now/reference/tbl_now_reconstruct.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Decides whether `tbl_now` object can be reconstructed from input — tbl_now_reconstruct","text":"","code":"tbl_now_reconstruct(data, template)"},{"path":"https://rodrigozepeda.github.io/tbl.now/reference/tbl_now_reconstruct.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Decides whether `tbl_now` object can be reconstructed from input — tbl_now_reconstruct","text":"data `data.frame` converted.","code":""},{"path":"https://rodrigozepeda.github.io/tbl.now/reference/tbl_now_reconstruct.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Decides whether `tbl_now` object can be reconstructed from input — tbl_now_reconstruct","text":"`tbl_now` object (input valid) `data.frame`","code":""},{"path":"https://rodrigozepeda.github.io/tbl.now/reference/tbl_now_reconstruct_internal.html","id":null,"dir":"Reference","previous_headings":"","what":"Reconstruct a tbl_now — tbl_now_reconstruct_internal","title":"Reconstruct a tbl_now — tbl_now_reconstruct_internal","text":"Reconstruct tbl_now","code":""},{"path":"https://rodrigozepeda.github.io/tbl.now/reference/tbl_now_reconstruct_internal.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Reconstruct a tbl_now — tbl_now_reconstruct_internal","text":"","code":"tbl_now_reconstruct_internal(data, template)"},{"path":"https://rodrigozepeda.github.io/tbl.now/reference/tbl_now_reconstruct_internal.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Reconstruct a tbl_now — tbl_now_reconstruct_internal","text":"data `data.frame` converted.","code":""},{"path":"https://rodrigozepeda.github.io/tbl.now/reference/tbl_now_reconstruct_internal.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Reconstruct a tbl_now — tbl_now_reconstruct_internal","text":"`tbl_now` object `data.frame`","code":""},{"path":"https://rodrigozepeda.github.io/tbl.now/reference/time_cols_to_numeric.html","id":null,"dir":"Reference","previous_headings":"","what":"Report and event units to numeric — time_cols_to_numeric","title":"Report and event units to numeric — time_cols_to_numeric","text":"Function takes dataframe `data` two columns names `event_date` `report_date` can either dates numeric. transforms dates","code":""},{"path":"https://rodrigozepeda.github.io/tbl.now/reference/time_cols_to_numeric.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Report and event units to numeric — time_cols_to_numeric","text":"","code":"time_cols_to_numeric(   data,   event_date,   report_date,   event_units,   report_units,   force )"},{"path":"https://rodrigozepeda.github.io/tbl.now/reference/time_cols_to_numeric.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Report and event units to numeric — time_cols_to_numeric","text":"data data.frame event_date Name column corresponding date event report_date Name column corresponding date report event_units Either `days`, `weeks`, `months`, `years` `numeric` report_units Either `days`, `weeks`, `months`, `years` `numeric`","code":""},{"path":"https://rodrigozepeda.github.io/tbl.now/reference/time_cols_to_numeric.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Report and event units to numeric — time_cols_to_numeric","text":"dataframe `data` two additional columns `.event_num` `.report_num` corresponding transforming dates numeric.","code":""},{"path":"https://rodrigozepeda.github.io/tbl.now/reference/to_count.html","id":null,"dir":"Reference","previous_headings":"","what":"Transform an object to count data — to_count","title":"Transform an object to count data — to_count","text":"S3 generic. package provides methods following classes: * `tbl_now`: takes `tbl_now` object creates new column name `n` counts observations `data_type = \"linelist\"`.","code":""},{"path":"https://rodrigozepeda.github.io/tbl.now/reference/to_count.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Transform an object to count data — to_count","text":"","code":"to_count(x, ...)  # S3 method for class 'tbl_now' to_count(x, ...)"},{"path":"https://rodrigozepeda.github.io/tbl.now/reference/to_count.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Transform an object to count data — to_count","text":"x Data transformed `linelist` count data ... Additional arguments","code":""},{"path":"https://rodrigozepeda.github.io/tbl.now/reference/to_count.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Transform an object to count data — to_count","text":"","code":"data(denguedat) ndata <- tbl_now(denguedat,     event_date = \"onset_week\",     report_date = \"report_week\",     strata = \"gender\") #> ℹ Identified data as linelist-data where each observation is a test.  to_count(ndata) #> Warning: `data` is grouped by onset_week, report_week, .event_num, and .report_num. #> Ungrouping. #> Warning: Linelist data contains a column named `n` which will be overwritten. If you are #> working with count-data set `data_type = \"count\"` #> # A tibble:  8,265 × 6 #> # Data type: \"count\" #> # Frequency: Event: `weeks` | Report: `weeks` #>    onset_week   report_week   .event_num .report_num gender       n #>    <date>       <date>             <dbl>       <dbl> <chr>    <int> #>    [event_date] [report_date]      [...]       [...] [strata] [...] #>  1 1990-01-01   1990-01-01             0           0 Female       2 #>  2 1990-01-01   1990-01-01             0           0 Male         1 #>  3 1990-01-01   1990-01-08             0           1 Female      13 #>  4 1990-01-01   1990-01-08             0           1 Male        11 #>  5 1990-01-01   1990-01-15             0           2 Female      16 #>  6 1990-01-01   1990-01-15             0           2 Male         7 #>  7 1990-01-01   1990-01-22             0           3 Female       7 #>  8 1990-01-01   1990-01-22             0           3 Male         1 #>  9 1990-01-01   1990-01-29             0           4 Male         1 #> 10 1990-01-01   1990-02-12             0           6 Male         1 #> # ──────────────────────────────────────────────────────────────────────────────── #> # Now: 2010-12-20 | Event date: \"onset_week\" | Report date: \"report_week\" #> # Strata: \"gender\" #> # ──────────────────────────────────────────────────────────────────────────────── #> # ℹ 8,255 more rows  data(\"covidat\") ndata <- tbl_now(covidat, event_date = \"date_of_symptom_onset\",               report_date = \"date_of_registry\",               strata = \"sex\") #> ℹ Identified data as count-data with counts in column `n`. #> Warning: 147 row(s) have a `report_date` before `event_date` to_count(ndata) #> Warning: 147 row(s) have a `report_date` before `event_date` #> Warning: 147 row(s) have a `report_date` before `event_date` #> # A tibble:  40,822 × 6 #> # Data type: \"count\" #> # Frequency: Event: `days` | Report: `days` #>    date_of_symptom_onset date_of_registry .event_num .report_num sex          n #>    <date>                <date>                <dbl>       <dbl> <chr>    <int> #>    [event_date]          [report_date]         [...]       [...] [strata] [...] #>  1 2020-03-06            2020-04-05                0          30 FEMALE       1 #>  2 2020-03-06            2020-04-05                0          30 MALE         1 #>  3 2020-03-07            2020-04-05                1          30 FEMALE       1 #>  4 2020-03-11            2020-04-07                5          32 MALE         1 #>  5 2020-03-18            2020-04-05               12          30 FEMALE       1 #>  6 2020-03-23            2020-04-08               17          33 FEMALE       1 #>  7 2020-03-24            2020-04-05               18          30 MALE         1 #>  8 2020-03-26            2020-04-06               20          31 FEMALE       1 #>  9 2020-03-27            2020-04-05               21          30 FEMALE       1 #> 10 2020-03-31            2020-04-05               25          30 FEMALE       1 #> # ──────────────────────────────────────────────────────────────────────────────── #> # Now: 2023-01-01 | Event date: \"date_of_symptom_onset\" | Report date: #> # \"date_of_registry\" #> # Strata: \"sex\" #> # ──────────────────────────────────────────────────────────────────────────────── #> # ℹ 40,812 more rows  data(\"vectordat\") ndata <- tbl_now(vectordat,     event_date = \"symptoms\",     report_date = \"update\",     strata = c(\"state\",\"sex\")) #> ℹ Identified data as count-data with counts in column `n`. #> Warning: 2 row(s) have a `report_date` before `event_date` to_count(ndata) #> Warning: 2 row(s) have a `report_date` before `event_date` #> Warning: 2 row(s) have a `report_date` before `event_date` #> # A tibble:  51,010 × 7 #> # Data type: \"count\" #> # Frequency: Event: `days` | Report: `days` #>    symptoms     update        .event_num .report_num state    sex          n #>    <date>       <date>             <dbl>       <dbl> <chr>    <chr>    <int> #>    [event_date] [report_date]      [...]       [...] [strata] [strata] [...] #>  1 2024-01-01   2024-02-06             0          36 GUERRERO FEMALE     136 #>  2 2024-01-01   2024-02-06             0          36 GUERRERO MALE       117 #>  3 2024-01-01   2024-02-06             0          36 TABASCO  FEMALE      26 #>  4 2024-01-01   2024-02-06             0          36 TABASCO  MALE        32 #>  5 2024-01-01   2024-02-06             0          36 VERACRUZ FEMALE      21 #>  6 2024-01-01   2024-02-06             0          36 VERACRUZ MALE        14 #>  7 2024-01-01   2024-02-13             0          43 GUERRERO FEMALE     136 #>  8 2024-01-01   2024-02-13             0          43 GUERRERO MALE       116 #>  9 2024-01-01   2024-02-13             0          43 TABASCO  FEMALE      26 #> 10 2024-01-01   2024-02-13             0          43 TABASCO  MALE        32 #> # ──────────────────────────────────────────────────────────────────────────────── #> # Now: 2024-12-16 | Event date: \"symptoms\" | Report date: \"update\" #> # Strata: \"state\" and \"sex\" #> # ──────────────────────────────────────────────────────────────────────────────── #> # ℹ 51,000 more rows"},{"path":"https://rodrigozepeda.github.io/tbl.now/reference/validate_tbl_now.html","id":null,"dir":"Reference","previous_headings":"","what":"Validate a tbl_now object — validate_tbl_now","title":"Validate a tbl_now object — validate_tbl_now","text":"Checks object properly constructed `tbl_now` required attributes valid data.","code":""},{"path":"https://rodrigozepeda.github.io/tbl.now/reference/validate_tbl_now.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Validate a tbl_now object — validate_tbl_now","text":"","code":"validate_tbl_now(x)"},{"path":"https://rodrigozepeda.github.io/tbl.now/reference/validate_tbl_now.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Validate a tbl_now object — validate_tbl_now","text":"x object validate","code":""},{"path":"https://rodrigozepeda.github.io/tbl.now/reference/validate_tbl_now.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Validate a tbl_now object — validate_tbl_now","text":"Returns `TRUE` invisibly throws error. Called side effects.","code":""},{"path":"https://rodrigozepeda.github.io/tbl.now/reference/validate_tbl_now.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Validate a tbl_now object — validate_tbl_now","text":"","code":"if (FALSE) { # \\dontrun{ data(denguedat) ndata <- tbl_now(denguedat, event_date = \"onset_week\",   report_date = \"report_week\")  # Validate without errors validate_tbl_now(ndata)  # Validate with errors validate_tbl_now(data.frame(x = 1:3))  } # }"},{"path":"https://rodrigozepeda.github.io/tbl.now/reference/vectordat.html","id":null,"dir":"Reference","previous_headings":"","what":"vectordat: Vector borne reportable diseases from Mexico (Feb-Dec 2024) — vectordat","title":"vectordat: Vector borne reportable diseases from Mexico (Feb-Dec 2024) — vectordat","text":"Surveillance count data provided Mexico's General Directorate Epidemiology (Direccion General de Epidemiologia) https://www.gob.mx/cms/uploads/attachment/file/965318/Datos_abiertos_historicos_etv_2024.pdf. Data comes National System Epidemiologic Surveillance (SINAVE) downloaded May 30th 2025. dataset includes suspected vector-borne disease cases states Veracruz, Guerrero Tabasco. original dataset aggregated pre-processed.","code":""},{"path":"https://rodrigozepeda.github.io/tbl.now/reference/vectordat.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"vectordat: Vector borne reportable diseases from Mexico (Feb-Dec 2024) — vectordat","text":"","code":"data(vectordat)"},{"path":"https://rodrigozepeda.github.io/tbl.now/reference/vectordat.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"vectordat: Vector borne reportable diseases from Mexico (Feb-Dec 2024) — vectordat","text":"data frame.","code":""},{"path":"https://rodrigozepeda.github.io/tbl.now/reference/vectordat.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"vectordat: Vector borne reportable diseases from Mexico (Feb-Dec 2024) — vectordat","text":"count data row representing case counts. columns follows: update: date report first registered database. symptoms: date patient reported symptoms started. sex: biological sex (either male female) n: case count individuals within dates sex state: state report originated","code":""},{"path":"https://rodrigozepeda.github.io/tbl.now/reference/vectordat.html","id":"note","dir":"Reference","previous_headings":"","what":"Note","title":"vectordat: Vector borne reportable diseases from Mexico (Feb-Dec 2024) — vectordat","text":"Dates provided present dataset contain errors. Theoretically individual update symptoms; however database contain cases like close practitioners find wild.","code":""},{"path":"https://rodrigozepeda.github.io/tbl.now/reference/vectordat.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"vectordat: Vector borne reportable diseases from Mexico (Feb-Dec 2024) — vectordat","text":"","code":"data(vectordat)"}]
