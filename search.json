[{"path":"https://rodrigozepeda.github.io/tbl.now/LICENSE.html","id":null,"dir":"","previous_headings":"","what":"MIT License","title":"MIT License","text":"Copyright (c) 2025 tbl.now authors Permission hereby granted, free charge, person obtaining copy software associated documentation files (“Software”), deal Software without restriction, including without limitation rights use, copy, modify, merge, publish, distribute, sublicense, /sell copies Software, permit persons Software furnished , subject following conditions: copyright notice permission notice shall included copies substantial portions Software. SOFTWARE PROVIDED “”, WITHOUT WARRANTY KIND, EXPRESS IMPLIED, INCLUDING LIMITED WARRANTIES MERCHANTABILITY, FITNESS PARTICULAR PURPOSE NONINFRINGEMENT. EVENT SHALL AUTHORS COPYRIGHT HOLDERS LIABLE CLAIM, DAMAGES LIABILITY, WHETHER ACTION CONTRACT, TORT OTHERWISE, ARISING , CONNECTION SOFTWARE USE DEALINGS SOFTWARE.","code":""},{"path":"https://rodrigozepeda.github.io/tbl.now/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Rodrigo Zepeda-Tello. Author, maintainer. Rami Yaari. Author. Matteo Perini. Author. Teresa Yamana. Contributor. Jeffrey Shaman. Contributor. Columbia University City New York. Copyright holder, funder.","code":""},{"path":"https://rodrigozepeda.github.io/tbl.now/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Zepeda-Tello R, Yaari R, Perini M (2025). tbl.now: Tibble Extension Nowcasts. R package version 0.1.0, https://rodrigozepeda.github.io/tbl.now/.","code":"@Manual{,   title = {tbl.now: Tibble Extension for Nowcasts},   author = {Rodrigo Zepeda-Tello and Rami Yaari and Matteo Perini},   year = {2025},   note = {R package version 0.1.0},   url = {https://rodrigozepeda.github.io/tbl.now/}, }"},{"path":"https://rodrigozepeda.github.io/tbl.now/index.html","id":"tibble-now-tblnow","dir":"","previous_headings":"","what":"Tibble Extension for Nowcasts","title":"Tibble Extension for Nowcasts","text":"goal tbl.now provide unified tibble-like interface nowcasting algorithms within diseasenowcasting framework.","code":""},{"path":"https://rodrigozepeda.github.io/tbl.now/index.html","id":"installation","dir":"","previous_headings":"","what":"Installation","title":"Tibble Extension for Nowcasts","text":"can install development version tbl.now GitHub :","code":"# install.packages(\"remotes\") remotes::install_github(\"RodrigoZepeda/tbl.now\")"},{"path":"https://rodrigozepeda.github.io/tbl.now/index.html","id":"class","dir":"","previous_headings":"","what":"Class","title":"Tibble Extension for Nowcasts","text":"tbl.now package contains tbl.now class extends tbl class (tibble()). Nowcasts require event_date report_date thus thetbl.now class can thought specific tibble guarantees event_date report_date. also tags variables : covariates, strata batched indicator. Finally converts event report dates numeric. example fake linelist data.frame cases happened symptom_onset reported report_time``. tibble includessexandage_groupas covariate,stateas strata unused variable calledcomorbidity`. transform tbl_now involves specifying date event, date report, strata covariates. algorithm automatically infers corresponds linelist data (vs count) infers now 2020-12-03 (last date). usual dplyr operations can performed dataset adjusting fly. example, removing age_group removes covariate list bottom: changing structure way removes event report dates returns tibble:","code":"library(tbl.now) library(dplyr, quietly = TRUE) #>  #> Attaching package: 'dplyr' #> The following objects are masked from 'package:stats': #>  #>     filter, lag #> The following objects are masked from 'package:base': #>  #>     intersect, setdiff, setequal, union  #This is what the dataframe looks like df <- tibble(   patient_id  = 1:5,   symptom_onset = c(as.Date(\"2020/12/01\"), as.Date(\"2020/12/01\"), as.Date(\"2020/12/01\"), as.Date(\"2020/12/02\"), as.Date(\"2020/12/02\")),   report_time   = c(as.Date(\"2020/12/01\"), as.Date(\"2020/12/01\"), as.Date(\"2020/12/02\"), as.Date(\"2020/12/02\"), as.Date(\"2020/12/03\")),   sex           = c(\"M\", \"F\", \"F\", \"M\", \"F\"),   age_group     = c(\"20-40\",\"40-60\",\"20-40\",\"40-60\",\"40-60\"),   state         = c(\"NY\",\"NJ\", \"NY\",\"NY\",\"NY\"),   comorbidity   = c(T,F,F,F,T) )  df #> # A tibble: 5 × 7 #>   patient_id symptom_onset report_time sex   age_group state comorbidity #>        <int> <date>        <date>      <chr> <chr>     <chr> <lgl>       #> 1          1 2020-12-01    2020-12-01  M     20-40     NY    TRUE        #> 2          2 2020-12-01    2020-12-01  F     40-60     NJ    FALSE       #> 3          3 2020-12-01    2020-12-02  F     20-40     NY    FALSE       #> 4          4 2020-12-02    2020-12-02  M     40-60     NY    FALSE       #> 5          5 2020-12-02    2020-12-03  F     40-60     NY    TRUE vdat <- tbl_now(df,                 event_date  = \"symptom_onset\",                 report_date = \"report_time\",                  covariate   = c(\"sex\", \"age_group\"),                   strata      = \"state\")      #> ℹ Identified data as linelist-data where each observation is a test.  vdat #> # A tibble:  5 × 9 #> # Data type: \"linelist\" #> # Frequency: Event: `days` | Report: `days` #>   patient_id symptom_onset report_time   sex         age_group state comorbidity #>        <int> <date>        <date>        <chr>       <chr>     <chr> <lgl>       #>        [...] [event_date]  [report_date] [covariate] [covaria… [str… [...]       #> 1          1 2020-12-01    2020-12-01    M           20-40     NY    TRUE        #> 2          2 2020-12-01    2020-12-01    F           40-60     NJ    FALSE       #> 3          3 2020-12-01    2020-12-02    F           20-40     NY    FALSE       #> 4          4 2020-12-02    2020-12-02    M           40-60     NY    FALSE       #> 5          5 2020-12-02    2020-12-03    F           40-60     NY    TRUE        #> # ──────────────────────────────────────────────────────────────────────────────── #> # Now: 2020-12-03 | Event date: \"symptom_onset\" | Report date: \"report_time\" #> # Strata: \"state\" #> # Covariates: \"sex\" and \"age_group\" #> # ──────────────────────────────────────────────────────────────────────────────── #> # ℹ 2 more variables: .event_num <dbl>, .report_num <dbl> vdat %>% select(-age_group) #> # A tibble:  5 × 8 #> # Data type: \"linelist\" #> # Frequency: Event: `days` | Report: `days` #>   patient_id symptom_onset report_time   sex        state comorbidity .event_num #>        <int> <date>        <date>        <chr>      <chr> <lgl>            <dbl> #>        [...] [event_date]  [report_date] [covariat… [str… [...]            [...] #> 1          1 2020-12-01    2020-12-01    M          NY    TRUE                 0 #> 2          2 2020-12-01    2020-12-01    F          NJ    FALSE                0 #> 3          3 2020-12-01    2020-12-02    F          NY    FALSE                0 #> 4          4 2020-12-02    2020-12-02    M          NY    FALSE                1 #> 5          5 2020-12-02    2020-12-03    F          NY    TRUE                 1 #> # ──────────────────────────────────────────────────────────────────────────────── #> # Now: 2020-12-03 | Event date: \"symptom_onset\" | Report date: \"report_time\" #> # Strata: \"state\" #> # Covariates: \"sex\" #> # ──────────────────────────────────────────────────────────────────────────────── #> # ℹ 1 more variable: .report_num <dbl> vdat %>%    group_by(sex) %>%    tally() #> Warning: Dropping `tbl_now` attributes and converting to `tibble` #> # A tibble: 2 × 2 #>   sex       n #>   <chr> <int> #> 1 F         3 #> 2 M         2"},{"path":"https://rodrigozepeda.github.io/tbl.now/reference/add_temporal_effects.html","id":null,"dir":"Reference","previous_headings":"","what":"Add temporal effect coding to a `tbl_now` — add_temporal_effects","title":"Add temporal effect coding to a `tbl_now` — add_temporal_effects","text":"Takes `tbl_now` `data.frame` adds temporal effects `t_effect` columns","code":""},{"path":"https://rodrigozepeda.github.io/tbl.now/reference/add_temporal_effects.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Add temporal effect coding to a `tbl_now` — add_temporal_effects","text":"","code":"add_temporal_effects(x, t_effect = NULL, overwrite = FALSE, ...)  # S3 method for class 'data.frame' add_temporal_effects(   x,   t_effect = NULL,   overwrite = FALSE,   ...,   date_col = NULL,   numeric_col = NULL,   name_prefix = paste0(\".\", date_col) )  # S3 method for class 'tbl_now' add_temporal_effects(   x,   t_effect = NULL,   overwrite = FALSE,   ...,   date_type = \"event_date\" )"},{"path":"https://rodrigozepeda.github.io/tbl.now/reference/add_temporal_effects.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Add temporal effect coding to a `tbl_now` — add_temporal_effects","text":"x `tbl_now` object `data.frame`. t_effect [temporal_effects()] object codifying temporal effects used. overwrite `TRUE` ignores columns already exist overwrites . `FALSE` throws errors columns creating already exist (default). ... Additional arguments (unused) date_col column contains `<Date>` values effects calculated. applies `temporal_effects` except `seasonal`. numeric_col column contains values seasonal effects calculated. applies seasonal effects. date-related effects (month day week) use `date_col`. name_prefix preffix add column names date_type Either `event_date` (default) `report_date` add temporal effects columns.","code":""},{"path":"https://rodrigozepeda.github.io/tbl.now/reference/add_temporal_effects.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Add temporal effect coding to a `tbl_now` — add_temporal_effects","text":"`tbl_now` `data.frame` containing effects new columns.","code":""},{"path":"https://rodrigozepeda.github.io/tbl.now/reference/add_temporal_effects.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Add temporal effect coding to a `tbl_now` — add_temporal_effects","text":"","code":"data(denguedat)  # Get disease disease_data <- tbl_now(denguedat,     event_date = \"onset_week\",     report_date = \"report_week\",     strata = \"gender\") #> ℹ Identified data as linelist-data where each observation is a test.  # Add an effect for epidemiological week add_temporal_effects(disease_data, t_effect = temporal_effects(week_of_year = TRUE)) #> # A tibble:  52,987 × 7 #> # Data type: \"linelist\" #> # Frequency: Event: `weeks` | Report: `weeks` #>    onset_week   report_week   gender   .event_num .report_num .delay #>    <date>       <date>        <chr>         <dbl>       <dbl>  <dbl> #>    [event_date] [report_date] [strata]      [...]       [...]  [...] #>  1 1990-01-01   1990-01-01    Male              0           0      0 #>  2 1990-01-01   1990-01-01    Female            0           0      0 #>  3 1990-01-01   1990-01-01    Female            0           0      0 #>  4 1990-01-01   1990-01-08    Female            0           1      1 #>  5 1990-01-01   1990-01-08    Male              0           1      1 #>  6 1990-01-01   1990-01-15    Female            0           2      2 #>  7 1990-01-01   1990-01-15    Female            0           2      2 #>  8 1990-01-01   1990-01-15    Female            0           2      2 #>  9 1990-01-01   1990-01-22    Female            0           3      3 #> 10 1990-01-01   1990-01-08    Female            0           1      1 #> # ──────────────────────────────────────────────────────────────────────────────── #> # Now: 2010-12-20 | Event date: \"onset_week\" | Report date: \"report_week\" #> # Strata: \"gender\" #> # ──────────────────────────────────────────────────────────────────────────────── #> # ℹ 52,977 more rows #> # ℹ 1 more variable: .event_week_of_year <int>"},{"path":"https://rodrigozepeda.github.io/tbl.now/reference/attr_default.html","id":null,"dir":"Reference","previous_headings":"","what":"Function to get an attribute from an object or default value — attr_default","title":"Function to get an attribute from an object or default value — attr_default","text":"Checks attribute exists object returns `default` ","code":""},{"path":"https://rodrigozepeda.github.io/tbl.now/reference/attr_default.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Function to get an attribute from an object or default value — attr_default","text":"","code":"attr_default(x, name, default = NULL)"},{"path":"https://rodrigozepeda.github.io/tbl.now/reference/attr_default.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Function to get an attribute from an object or default value — attr_default","text":"x object attribute `name` name name attribute `x` default (optional) default value attribute `name` `x`","code":""},{"path":"https://rodrigozepeda.github.io/tbl.now/reference/attr_default.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Function to get an attribute from an object or default value — attr_default","text":"","code":"if (FALSE) { # \\dontrun{ #Create an object x <- 42 attr(x, \"meaning\") <- \"meaning of life\"  #See the attributes attributes(x)  #Return the meaning attribute attr_default(x, \"meaning\")  #Return null for attribute that doesn't exist attr_default(x, \"DOES_NOT_EXIST\")  #Or return default when it doesn't exist attr_default(x, \"DOES_NOT_EXIST\", default = 15)  } # }"},{"path":"https://rodrigozepeda.github.io/tbl.now/reference/cash-set-.tbl_now.html","id":null,"dir":"Reference","previous_headings":"","what":"Set accessor for `tbl_now` class — $<-.tbl_now","title":"Set accessor for `tbl_now` class — $<-.tbl_now","text":"Set accessor `tbl_now` class","code":""},{"path":"https://rodrigozepeda.github.io/tbl.now/reference/cash-set-.tbl_now.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Set accessor for `tbl_now` class — $<-.tbl_now","text":"","code":"# S3 method for class 'tbl_now' x$name <- value"},{"path":"https://rodrigozepeda.github.io/tbl.now/reference/cash-set-.tbl_now.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Set accessor for `tbl_now` class — $<-.tbl_now","text":"x `tbl_now` object name literal character string name (possibly backtick     quoted).  extraction, normally (see     ‘Environments’) partially matched names     object. value typically array-like R object similar class     x.","code":""},{"path":"https://rodrigozepeda.github.io/tbl.now/reference/cash-set-.tbl_now.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Set accessor for `tbl_now` class — $<-.tbl_now","text":"`tbl_now` object `data.frame`","code":""},{"path":"https://rodrigozepeda.github.io/tbl.now/reference/change.html","id":null,"dir":"Reference","previous_headings":"","what":"Change attributes of a `tbl_now` object — change","title":"Change attributes of a `tbl_now` object — change","text":"Functions modify attributes `tbl_now` object. functions validate object making changes.","code":""},{"path":"https://rodrigozepeda.github.io/tbl.now/reference/change.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Change attributes of a `tbl_now` object — change","text":"","code":"change_event_date(x, value)  change_report_date(x, value)  change_strata(x, value)  remove_strata(x, value)  add_strata(x, value)  remove_all_strata(x)  change_covariates(x, value)  remove_covariate(x, value)  add_covariate(x, value)  remove_all_covariates(x)  change_now(x, value)"},{"path":"https://rodrigozepeda.github.io/tbl.now/reference/change.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Change attributes of a `tbl_now` object — change","text":"x `tbl_now` object value new value attribute","code":""},{"path":"https://rodrigozepeda.github.io/tbl.now/reference/change.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Change attributes of a `tbl_now` object — change","text":"`tbl_now` object updated attributes","code":""},{"path":"https://rodrigozepeda.github.io/tbl.now/reference/change.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Change attributes of a `tbl_now` object — change","text":"","code":"if (FALSE) { # \\dontrun{ data(denguedat) ndata <- new_tbl_now(denguedat,                           event_date = \"onset_week\",                           report_date = \"report_week\")  # Change the event_date column to a different date column ndata$new_onset_week <- ndata$onset_week - lubridate::days(1) ndata <- change_event_date(ndata, \"new_onset_week\") ndata  # Change the report_date column to a different column ndata$new_report_week <- ndata$report_week - lubridate::days(1) ndata <- change_report_date(ndata, \"new_report_week\") ndata  # Change strata to different strata ndata$age_group <- sample(c(\"< 18\",\"20-60\",\"60+\"), nrow(ndata), replace = TRUE) ndata <- change_strata(ndata, c(\"gender\", \"age_group\")) ndata  # Remove some strata ndata <- remove_strata(ndata, \"gender\") ndata  # Add strata ndata <- add_strata(ndata, \"gender\") ndata  # Change covariates ndata$temperature <- rnorm(nrow(ndata), 25, 4) ndata$humidity    <- rbeta(nrow(ndata), 0.6, 0.4) ndata <- change_covariates(ndata, c(\"temperature\", \"humidity\")) ndata  # Remove some covariates ndata <- remove_covariates(ndata, \"temperature\") ndata  # Add covariates ndata <- add_covariates(ndata, \"temperature\") ndata  # Change now ndata <- change_now(ndata, as.Date(\"2025-01-01\")) ndata } # }"},{"path":"https://rodrigozepeda.github.io/tbl.now/reference/check_bool.html","id":null,"dir":"Reference","previous_headings":"","what":"Check a boolean value — check_bool","title":"Check a boolean value — check_bool","text":"Function checks whether boolean variable `TRUE` `FALSE`","code":""},{"path":"https://rodrigozepeda.github.io/tbl.now/reference/check_bool.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Check a boolean value — check_bool","text":"","code":"check_bool(x, name)"},{"path":"https://rodrigozepeda.github.io/tbl.now/reference/check_bool.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Check a boolean value — check_bool","text":"x variable name Name argument printing error messages","code":""},{"path":"https://rodrigozepeda.github.io/tbl.now/reference/check_bool.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Check a boolean value — check_bool","text":"invisible (TRUE). Called side effects.","code":""},{"path":"https://rodrigozepeda.github.io/tbl.now/reference/check_bool.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"Check a boolean value — check_bool","text":"https://stackoverflow.com//60346779/5067372","code":""},{"path":"https://rodrigozepeda.github.io/tbl.now/reference/check_bool.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Check a boolean value — check_bool","text":"","code":"if (FALSE) { # \\dontrun{ check_bool(TRUE, \"value\")  #Using a non boolean gives an error message not_a_boolean <- \"hello\" check_bool(not_a_boolean, \"not_a_boolean\") } # }"},{"path":"https://rodrigozepeda.github.io/tbl.now/reference/check_data_type.html","id":null,"dir":"Reference","previous_headings":"","what":"Check the data type — check_data_type","title":"Check the data type — check_data_type","text":"Check data type","code":""},{"path":"https://rodrigozepeda.github.io/tbl.now/reference/check_data_type.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Check the data type — check_data_type","text":"","code":"check_data_type(data_type)"},{"path":"https://rodrigozepeda.github.io/tbl.now/reference/check_data_type.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Check the data type — check_data_type","text":"data_type (optional) Character. Either \"auto\", \"linelist\" \"count\".","code":""},{"path":"https://rodrigozepeda.github.io/tbl.now/reference/check_data_type.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Check the data type — check_data_type","text":"`TRUE` (invisible) data_type one valid types model's inference.","code":""},{"path":"https://rodrigozepeda.github.io/tbl.now/reference/check_date_columns.html","id":null,"dir":"Reference","previous_headings":"","what":"Check the onset and report dates — check_date_columns","title":"Check the onset and report dates — check_date_columns","text":"Check onset report dates","code":""},{"path":"https://rodrigozepeda.github.io/tbl.now/reference/check_date_columns.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Check the onset and report dates — check_date_columns","text":"","code":"check_date_columns(data, event_date, report_date)"},{"path":"https://rodrigozepeda.github.io/tbl.now/reference/check_date_columns.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Check the onset and report dates — check_date_columns","text":"data `data.frame` converted. event_date Character. name column containing event date. report_date Character. name column containing report date.","code":""},{"path":"https://rodrigozepeda.github.io/tbl.now/reference/check_date_columns.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Check the onset and report dates — check_date_columns","text":"`TRUE` (invisible) `event_date` `report_date` date columns present data `event_date` <= `report_date` observations. Called side effects","code":""},{"path":"https://rodrigozepeda.github.io/tbl.now/reference/check_delay_is_censored.html","id":null,"dir":"Reference","previous_headings":"","what":"Check the delay_is_censored column — check_delay_is_censored","title":"Check the delay_is_censored column — check_delay_is_censored","text":"`delay_is_censored` column values 0 1. idea indicate whether different column `data` censored values.","code":""},{"path":"https://rodrigozepeda.github.io/tbl.now/reference/check_delay_is_censored.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Check the delay_is_censored column — check_delay_is_censored","text":"","code":"check_delay_is_censored(data, delay_is_censored)"},{"path":"https://rodrigozepeda.github.io/tbl.now/reference/check_delay_is_censored.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Check the delay_is_censored column — check_delay_is_censored","text":"data `data.frame` converted.","code":""},{"path":"https://rodrigozepeda.github.io/tbl.now/reference/check_delay_is_censored.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Check the delay_is_censored column — check_delay_is_censored","text":"(invisible) `TRUE` column `delay_is_censored` NULL valid values tibble `data`.","code":""},{"path":"https://rodrigozepeda.github.io/tbl.now/reference/check_now.html","id":null,"dir":"Reference","previous_headings":"","what":"Check the `now` argument — check_now","title":"Check the `now` argument — check_now","text":"Checks `now` argument date within range data","code":""},{"path":"https://rodrigozepeda.github.io/tbl.now/reference/check_now.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Check the `now` argument — check_now","text":"","code":"check_now(data, event_date, report_date, now)"},{"path":"https://rodrigozepeda.github.io/tbl.now/reference/check_now.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Check the `now` argument — check_now","text":"data `data.frame` converted. event_date Character. name column containing event date. report_date Character. name column containing report date. now (optional) Date `NULL` (default). date considered `now` nowcast. `now` given function automatically uses last `event_date`.","code":""},{"path":"https://rodrigozepeda.github.io/tbl.now/reference/check_now.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Check the `now` argument — check_now","text":"(invisible) TRUE `now` date achievable considering `data` dataset columns `event_date` `report_date`","code":""},{"path":"https://rodrigozepeda.github.io/tbl.now/reference/check_strata.html","id":null,"dir":"Reference","previous_headings":"","what":"Check the strata columns — check_strata","title":"Check the strata columns — check_strata","text":"`strata` columns present data character, integers, factors.","code":""},{"path":"https://rodrigozepeda.github.io/tbl.now/reference/check_strata.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Check the strata columns — check_strata","text":"","code":"check_strata(data, strata)"},{"path":"https://rodrigozepeda.github.io/tbl.now/reference/check_strata.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Check the strata columns — check_strata","text":"data `data.frame` converted. strata (optional) Character vector `NULL` (default). Name different variables (column names) strata. Strata correspond variables interest . example interest generate nowcasts gender `gender` `strata`.","code":""},{"path":"https://rodrigozepeda.github.io/tbl.now/reference/check_strata.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Check the strata columns — check_strata","text":"(invisible) `TRUE` columns `strata` NULL character, integers, factors tibble `data`.","code":""},{"path":"https://rodrigozepeda.github.io/tbl.now/reference/check_units.html","id":null,"dir":"Reference","previous_headings":"","what":"Check the `date_units` argument — check_units","title":"Check the `date_units` argument — check_units","text":"Check `date_units` argument","code":""},{"path":"https://rodrigozepeda.github.io/tbl.now/reference/check_units.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Check the `date_units` argument — check_units","text":"","code":"check_units(data, date_units)"},{"path":"https://rodrigozepeda.github.io/tbl.now/reference/check_units.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Check the `date_units` argument — check_units","text":"data `data.frame` converted.","code":""},{"path":"https://rodrigozepeda.github.io/tbl.now/reference/check_units.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Check the `date_units` argument — check_units","text":"(invisible) `TRUE` date_units valid NULL","code":""},{"path":"https://rodrigozepeda.github.io/tbl.now/reference/check_verbose.html","id":null,"dir":"Reference","previous_headings":"","what":"Check the `verbose` argument among the options — check_verbose","title":"Check the `verbose` argument among the options — check_verbose","text":"Check `verbose` argument among options","code":""},{"path":"https://rodrigozepeda.github.io/tbl.now/reference/check_verbose.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Check the `verbose` argument among the options — check_verbose","text":"","code":"check_verbose(verbose)"},{"path":"https://rodrigozepeda.github.io/tbl.now/reference/check_verbose.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Check the `verbose` argument among the options — check_verbose","text":"verbose (optional) Logical. Whether throw message. Default = `TRUE`.","code":""},{"path":"https://rodrigozepeda.github.io/tbl.now/reference/check_verbose.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Check the `verbose` argument among the options — check_verbose","text":"(invisible) `TRUE` verbose argument valid","code":""},{"path":"https://rodrigozepeda.github.io/tbl.now/reference/covidat.html","id":null,"dir":"Reference","previous_headings":"","what":"covidat: COVID-19 reporting data from Mexico City (2020-2022) — covidat","title":"covidat: COVID-19 reporting data from Mexico City (2020-2022) — covidat","text":"Surveillance count data provided Mexico City's Health Ministry https://datos.cdmx.gob.mx/dataset/base-covid-sinave. Data comes National System Epidemiologic Surveillance (SINAVE) corresponds update January 9th 2024, 12:35 (UTC-05:00). dataset includes confirmed COVID-19 cases registered city. original dataset aggregated pre-processed described note .","code":""},{"path":"https://rodrigozepeda.github.io/tbl.now/reference/covidat.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"covidat: COVID-19 reporting data from Mexico City (2020-2022) — covidat","text":"","code":"data(covidat)"},{"path":"https://rodrigozepeda.github.io/tbl.now/reference/covidat.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"covidat: COVID-19 reporting data from Mexico City (2020-2022) — covidat","text":"data frame.","code":""},{"path":"https://rodrigozepeda.github.io/tbl.now/reference/covidat.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"covidat: COVID-19 reporting data from Mexico City (2020-2022) — covidat","text":"count data row representing case counts. columns follows: date_of_registry: date report registered database. date_of_symptom_onset: date patient reported symptoms started. sex: biological sex (either male female) n: case count individuals within dates sex","code":""},{"path":"https://rodrigozepeda.github.io/tbl.now/reference/covidat.html","id":"note","dir":"Reference","previous_headings":"","what":"Note","title":"covidat: COVID-19 reporting data from Mexico City (2020-2022) — covidat","text":"Dates provided present dataset contain errors. Theoretically individual date_of_symptom_onset date_of_registry; however database contain cases like close practitioners find wild.","code":""},{"path":"https://rodrigozepeda.github.io/tbl.now/reference/covidat.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"covidat: COVID-19 reporting data from Mexico City (2020-2022) — covidat","text":"","code":"data(covidat)"},{"path":"https://rodrigozepeda.github.io/tbl.now/reference/denguedat.html","id":null,"dir":"Reference","previous_headings":"","what":"denguedat: Dengue fever individual-level reporting data from Puerto Rico — denguedat","title":"denguedat: Dengue fever individual-level reporting data from Puerto Rico — denguedat","text":"Surveillance data CDC Division Vector-Borne Diseases. 1990-2010 case reporting data included.","code":""},{"path":"https://rodrigozepeda.github.io/tbl.now/reference/denguedat.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"denguedat: Dengue fever individual-level reporting data from Puerto Rico — denguedat","text":"","code":"data(denguedat)"},{"path":"https://rodrigozepeda.github.io/tbl.now/reference/denguedat.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"denguedat: Dengue fever individual-level reporting data from Puerto Rico — denguedat","text":"data frame.","code":""},{"path":"https://rodrigozepeda.github.io/tbl.now/reference/denguedat.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"denguedat: Dengue fever individual-level reporting data from Puerto Rico — denguedat","text":"row represents case columns indicating following: onset_week:  week symptom onset. report_week: week case report. gender: gender infected individual (randomly assigned 0.5:0.5 probability \"Male\"/\"Female\").","code":""},{"path":"https://rodrigozepeda.github.io/tbl.now/reference/denguedat.html","id":"note","dir":"Reference","previous_headings":"","what":"Note","title":"denguedat: Dengue fever individual-level reporting data from Puerto Rico — denguedat","text":"Data originally NobBS package. onset_week report_week correspond actual observed data gender constructed exclusively examples NobBS. synthetic (simulated) variable correspond reality.","code":""},{"path":"https://rodrigozepeda.github.io/tbl.now/reference/denguedat.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"denguedat: Dengue fever individual-level reporting data from Puerto Rico — denguedat","text":"MCGOUGH, Sarah F., et al. Nowcasting Bayesian Smoothing: flexible, generalizable model real-time epidemic tracking. PLoS computational biology, 2020, vol. 16, 4, p. e1007735.","code":""},{"path":"https://rodrigozepeda.github.io/tbl.now/reference/denguedat.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"denguedat: Dengue fever individual-level reporting data from Puerto Rico — denguedat","text":"","code":"data(denguedat)"},{"path":"https://rodrigozepeda.github.io/tbl.now/reference/flusight.html","id":null,"dir":"Reference","previous_headings":"","what":"flusight: — flusight","title":"flusight: — flusight","text":"NHSN Weekly Hospital Respiratory Data FluSight FluSight's weekly hospital admission prediction targets based 'total number new hospital admissions patients confirmed influenza captured reporting week' reported CDC's NHSN (dataset formerly known HHS-Protect), Weekly Hospital Respiratory Data. Data downloaded November 12th 2025.","code":""},{"path":"https://rodrigozepeda.github.io/tbl.now/reference/flusight.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"flusight: — flusight","text":"","code":"data(flusight)"},{"path":"https://rodrigozepeda.github.io/tbl.now/reference/flusight.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"flusight: — flusight","text":"data frame.","code":""},{"path":"https://rodrigozepeda.github.io/tbl.now/reference/flusight.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"flusight: — flusight","text":"Data represents many cases considered influenza week target_end_date given information known week as_of. Note as_of always one week ahead target_end_date. count data. columns follows: as_of: target_end_date: date case happened observation: Case counts dates location_name: State, district territory","code":""},{"path":"https://rodrigozepeda.github.io/tbl.now/reference/flusight.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"flusight: — flusight","text":"Target data Flusight. Online: https://github.com/cdcepi/FluSight-forecast-hub/blob/main/target-data/time-series.csv","code":""},{"path":"https://rodrigozepeda.github.io/tbl.now/reference/flusight.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"flusight: — flusight","text":"","code":"data(flusight)"},{"path":"https://rodrigozepeda.github.io/tbl.now/reference/infer_data_type.html","id":null,"dir":"Reference","previous_headings":"","what":"Automatically infer the `data_type` — infer_data_type","title":"Automatically infer the `data_type` — infer_data_type","text":"Infers whether data line-data count-data whether () column named `n`","code":""},{"path":"https://rodrigozepeda.github.io/tbl.now/reference/infer_data_type.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Automatically infer the `data_type` — infer_data_type","text":"","code":"infer_data_type(data, data_type, case_col, verbose = FALSE)"},{"path":"https://rodrigozepeda.github.io/tbl.now/reference/infer_data_type.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Automatically infer the `data_type` — infer_data_type","text":"data `data.frame` converted. data_type (optional) Character. Either \"auto\", \"linelist\" \"count\". case_col (optional) Name column case counts `data_type` \"count\". `case_col` specified even `data_type` \"linelist\" name used `to_count` function applied. verbose (optional) Logical. Whether throw message. Default = `TRUE`.","code":""},{"path":"https://rodrigozepeda.github.io/tbl.now/reference/infer_data_type.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Automatically infer the `data_type` — infer_data_type","text":"Whether data `count` `linelist`","code":""},{"path":"https://rodrigozepeda.github.io/tbl.now/reference/infer_now.html","id":null,"dir":"Reference","previous_headings":"","what":"Automatically infer the `now`. — infer_now","title":"Automatically infer the `now`. — infer_now","text":"Function returns maximum onset date `data` `now = NULL`. Else returns `now` given.","code":""},{"path":"https://rodrigozepeda.github.io/tbl.now/reference/infer_now.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Automatically infer the `now`. — infer_now","text":"","code":"infer_now(data, now, event_date, report_date)"},{"path":"https://rodrigozepeda.github.io/tbl.now/reference/infer_now.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Automatically infer the `now`. — infer_now","text":"`now` value nowcast can last date data specified user","code":""},{"path":"https://rodrigozepeda.github.io/tbl.now/reference/infer_now.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Automatically infer the `now`. — infer_now","text":"@inheritParams tbl_now","code":""},{"path":"https://rodrigozepeda.github.io/tbl.now/reference/infer_now.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Automatically infer the `now`. — infer_now","text":"","code":"if (FALSE) { # \\dontrun{ #Get the maximum report date ddata <- data.frame(     event_date   = c(as.Date(\"2020/07/08\"), as.Date(\"2020/07/09\")),     report_date = c(as.Date(\"2020/07/11\"), as.Date(\"2020/07/12\")) ) infer_now(ddata, NULL, event_date = \"event_date\", report_date = \"report_date\")  #Otherwise get the date given infer_now(ddata, as.Date(\"2020/07/11\"), event_date = \"event_date\",   report_date = \"report_date\") } # }"},{"path":"https://rodrigozepeda.github.io/tbl.now/reference/infer_units.html","id":null,"dir":"Reference","previous_headings":"","what":"Automatically infer which value is `date_units` — infer_units","title":"Automatically infer which value is `date_units` — infer_units","text":"Function returns whether data daily weekly `date_column`.","code":""},{"path":"https://rodrigozepeda.github.io/tbl.now/reference/infer_units.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Automatically infer which value is `date_units` — infer_units","text":"","code":"infer_units(data, date_column, date_units)"},{"path":"https://rodrigozepeda.github.io/tbl.now/reference/infer_units.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Automatically infer which value is `date_units` — infer_units","text":"Whether data's date_units `days` `weeks`.","code":""},{"path":"https://rodrigozepeda.github.io/tbl.now/reference/infer_units.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Automatically infer which value is `date_units` — infer_units","text":"@inheritParams tbl_now","code":""},{"path":"https://rodrigozepeda.github.io/tbl.now/reference/infer_units_one_column.html","id":null,"dir":"Reference","previous_headings":"","what":"Automatically infer which value is `date_units` for one column. — infer_units_one_column","title":"Automatically infer which value is `date_units` for one column. — infer_units_one_column","text":"Function returns whether data daily weekly `date_column`.","code":""},{"path":"https://rodrigozepeda.github.io/tbl.now/reference/infer_units_one_column.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Automatically infer which value is `date_units` for one column. — infer_units_one_column","text":"","code":"infer_units_one_column(data, date_column, date_units)"},{"path":"https://rodrigozepeda.github.io/tbl.now/reference/infer_units_one_column.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Automatically infer which value is `date_units` for one column. — infer_units_one_column","text":"date_column Name column `data` contains dates.","code":""},{"path":"https://rodrigozepeda.github.io/tbl.now/reference/infer_units_one_column.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Automatically infer which value is `date_units` for one column. — infer_units_one_column","text":"Whether data's date_units `days`, `weeks`, `months`, `years` `numeric`.","code":""},{"path":"https://rodrigozepeda.github.io/tbl.now/reference/infer_units_one_column.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Automatically infer which value is `date_units` for one column. — infer_units_one_column","text":"@inheritParams tbl_now","code":""},{"path":"https://rodrigozepeda.github.io/tbl.now/reference/infer_units_one_column.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Automatically infer which value is `date_units` for one column. — infer_units_one_column","text":"","code":"if (FALSE) { # \\dontrun{ #Get the maximum report date and infer the data distribution daily_data <- data.frame(     event_date   = c(as.Date(\"2020/07/08\"), as.Date(\"2020/07/09\"), as.Date(\"2020/07/10\")),     report_date = c(as.Date(\"2020/07/11\"), as.Date(\"2020/07/12\"), as.Date(\"2020/07/14\")) ) infer_units_one_column(daily_data, NULL, \"report_date\")  #Get the maximum report date and infer the data distribution weekly_data <- data.frame(     event_date   = c(as.Date(\"2020/07/08\"), as.Date(\"2020/07/15\"), as.Date(\"2020/07/22\")),     report_date = c(as.Date(\"2020/07/11\"), as.Date(\"2020/07/18\"), as.Date(\"2020/07/25\")) ) infer_units_one_column(weekly_data, NULL, \"report_date\")  #Or just input the type infer_units_one_column(weekly_data, \"weeks\", \"report_date\")  #Also works with numeric infer_units_one_column(data.frame(report_date = 1:20), date_units = \"auto\", \"report_date\")  } # }"},{"path":"https://rodrigozepeda.github.io/tbl.now/reference/is_tbl_now.html","id":null,"dir":"Reference","previous_headings":"","what":"Check if an object is a tbl_now — is_tbl_now","title":"Check if an object is a tbl_now — is_tbl_now","text":"Check object tbl_now","code":""},{"path":"https://rodrigozepeda.github.io/tbl.now/reference/is_tbl_now.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Check if an object is a tbl_now — is_tbl_now","text":"","code":"is_tbl_now(x)"},{"path":"https://rodrigozepeda.github.io/tbl.now/reference/is_tbl_now.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Check if an object is a tbl_now — is_tbl_now","text":"x R object","code":""},{"path":"https://rodrigozepeda.github.io/tbl.now/reference/is_tbl_now.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Check if an object is a tbl_now — is_tbl_now","text":"(boolean) `TRUE` object `tbl_now` `FALSE` .","code":""},{"path":"https://rodrigozepeda.github.io/tbl.now/reference/is_tbl_now.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Check if an object is a tbl_now — is_tbl_now","text":"","code":"is_tbl_now(data.frame(x = 1:3)) #> [1] FALSE  xval <- data.frame(x = 1:3) class(xval) <- c(\"tbl_now\", \"data.frame\") is_tbl_now(xval) #> [1] FALSE"},{"path":"https://rodrigozepeda.github.io/tbl.now/reference/is_weekday.html","id":null,"dir":"Reference","previous_headings":"","what":"Check whether a date is a weekday vs weekend — is_weekday","title":"Check whether a date is a weekday vs weekend — is_weekday","text":"Function checks whether date object weekday weekend.","code":""},{"path":"https://rodrigozepeda.github.io/tbl.now/reference/is_weekday.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Check whether a date is a weekday vs weekend — is_weekday","text":"","code":"is_weekday(date)"},{"path":"https://rodrigozepeda.github.io/tbl.now/reference/is_weekday.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Check whether a date is a weekday vs weekend — is_weekday","text":"date date object","code":""},{"path":"https://rodrigozepeda.github.io/tbl.now/reference/is_weekday.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"Check whether a date is a weekday vs weekend — is_weekday","text":"https://stackoverflow.com//60346779/5067372","code":""},{"path":"https://rodrigozepeda.github.io/tbl.now/reference/is_weekday.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Check whether a date is a weekday vs weekend — is_weekday","text":"","code":"is_weekday(as.Date(\"2020-04-22\")) #> [1] TRUE is_weekday(as.Date(\"2020-04-19\")) #> [1] FALSE"},{"path":"https://rodrigozepeda.github.io/tbl.now/reference/mpoxdat.html","id":null,"dir":"Reference","previous_headings":"","what":"mpoxdat: Mpox reporting data from the 2022 New York City outbreak — mpoxdat","title":"mpoxdat: Mpox reporting data from the 2022 New York City outbreak — mpoxdat","text":"Surveillance line list data provided New York City (NYC) Health Department https://github.com/nychealth/mpox_nowcast_eval, accompany nowcasting performance evaluation (doi: 10.2196/56495). Patients confirmed probable mpox diagnosis illness onset July 8 September 30, 2022 included. original dataset aggregated pre-processed described note .","code":""},{"path":"https://rodrigozepeda.github.io/tbl.now/reference/mpoxdat.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"mpoxdat: Mpox reporting data from the 2022 New York City outbreak — mpoxdat","text":"","code":"data(mpoxdat)"},{"path":"https://rodrigozepeda.github.io/tbl.now/reference/mpoxdat.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"mpoxdat: Mpox reporting data from the 2022 New York City outbreak — mpoxdat","text":"data frame.","code":""},{"path":"https://rodrigozepeda.github.io/tbl.now/reference/mpoxdat.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"mpoxdat: Mpox reporting data from the 2022 New York City outbreak — mpoxdat","text":"line-list data row representing case counts. columns follows: dx_date: specimen collection date first positive mpox laboratory result, dx_report_date: date report first positive mpox laboratory result received NYC Health Department, n: case count individuals within dates. race: race corresponding cases. Race randomly assigned probabilities \"Non-Hispanic White\" = 0.309, \"Hispanic\" = 0.283, \"Black\" = 0.202, \"Asian\" = 0.156, \"\" = 0.05 follow reported US Census.","code":""},{"path":"https://rodrigozepeda.github.io/tbl.now/reference/mpoxdat.html","id":"note","dir":"Reference","previous_headings":"","what":"Note","title":"mpoxdat: Mpox reporting data from the 2022 New York City outbreak — mpoxdat","text":"dx_date, dx_report_date n correspond actual observed data race constructed exclusively examples package. synthetic (simulated) variable correspond reality.","code":""},{"path":"https://rodrigozepeda.github.io/tbl.now/reference/mpoxdat.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"mpoxdat: Mpox reporting data from the 2022 New York City outbreak — mpoxdat","text":"ROHRER, Rebecca, et al. Nowcasting Monitor Real-Time Mpox Trends 2022 Outbreak New York City: Evaluation Using Reportable Disease Data Stratified Race Ethnicity. Online Journal Public Health Informatics, 2025, vol. 17, 1, p. e56495.","code":""},{"path":"https://rodrigozepeda.github.io/tbl.now/reference/mpoxdat.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"mpoxdat: Mpox reporting data from the 2022 New York City outbreak — mpoxdat","text":"","code":"data(mpoxdat)"},{"path":"https://rodrigozepeda.github.io/tbl.now/reference/names-set-.tbl_now.html","id":null,"dir":"Reference","previous_headings":"","what":"Set names on `tbl_now` class — names<-.tbl_now","title":"Set names on `tbl_now` class — names<-.tbl_now","text":"modifying names invalidates `tbl_now` object subsetting return data frame attributes class preserved.","code":""},{"path":"https://rodrigozepeda.github.io/tbl.now/reference/names-set-.tbl_now.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Set names on `tbl_now` class — names<-.tbl_now","text":"","code":"# S3 method for class 'tbl_now' names(x) <- value"},{"path":"https://rodrigozepeda.github.io/tbl.now/reference/names-set-.tbl_now.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Set names on `tbl_now` class — names<-.tbl_now","text":"x R object. value character vector length x,     NULL.","code":""},{"path":"https://rodrigozepeda.github.io/tbl.now/reference/names-set-.tbl_now.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Set names on `tbl_now` class — names<-.tbl_now","text":"`tbl_now` object `data.frame`","code":""},{"path":"https://rodrigozepeda.github.io/tbl.now/reference/new_grouped_tbl_now.html","id":null,"dir":"Reference","previous_headings":"","what":"Grouped tbl_now — new_grouped_tbl_now","title":"Grouped tbl_now — new_grouped_tbl_now","text":"Grouped tbl_now","code":""},{"path":"https://rodrigozepeda.github.io/tbl.now/reference/new_grouped_tbl_now.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Grouped tbl_now — new_grouped_tbl_now","text":"","code":"new_grouped_tbl_now(x, groups)"},{"path":"https://rodrigozepeda.github.io/tbl.now/reference/new_grouped_tbl_now.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Grouped tbl_now — new_grouped_tbl_now","text":"x `tbl_now` groups Column grops group_by","code":""},{"path":"https://rodrigozepeda.github.io/tbl.now/reference/nowcast_data_getters.html","id":null,"dir":"Reference","previous_headings":"","what":"Getters for tbl_now attributes — nowcast_data_getters","title":"Getters for tbl_now attributes — nowcast_data_getters","text":"functions extract metadata attributes `tbl_now` object. function returns specific attribute (e.g. event date, strata, covariates, etc.).","code":""},{"path":"https://rodrigozepeda.github.io/tbl.now/reference/nowcast_data_getters.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Getters for tbl_now attributes — nowcast_data_getters","text":"","code":"get_event_date(x)  get_report_date(x)  get_strata(x)  get_num_strata(x)  get_covariates(x)  get_num_covariates(x)  get_now(x)  get_report_units(x)  get_event_units(x)  get_data_type(x)  get_temporal_effects(x)  get_is_batched(x)  get_case_col(x)"},{"path":"https://rodrigozepeda.github.io/tbl.now/reference/nowcast_data_getters.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Getters for tbl_now attributes — nowcast_data_getters","text":"x `tbl_now` object.","code":""},{"path":"https://rodrigozepeda.github.io/tbl.now/reference/nowcast_data_getters.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Getters for tbl_now attributes — nowcast_data_getters","text":"requested attribute (character, date, logical, etc.).","code":""},{"path":"https://rodrigozepeda.github.io/tbl.now/reference/pipe.html","id":null,"dir":"Reference","previous_headings":"","what":"Pipe operator — %>%","title":"Pipe operator — %>%","text":"See magrittr::%>% details.","code":""},{"path":"https://rodrigozepeda.github.io/tbl.now/reference/pipe.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Pipe operator — %>%","text":"","code":"lhs %>% rhs"},{"path":"https://rodrigozepeda.github.io/tbl.now/reference/pipe.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Pipe operator — %>%","text":"lhs value dplyr placeholder. rhs function call using dplyr semantics.","code":""},{"path":"https://rodrigozepeda.github.io/tbl.now/reference/pipe.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Pipe operator — %>%","text":"result calling `rhs(lhs)`.","code":""},{"path":"https://rodrigozepeda.github.io/tbl.now/reference/print.html","id":null,"dir":"Reference","previous_headings":"","what":"Print temporal effects — print","title":"Print temporal effects — print","text":"Print function printing [temporal_effects()].","code":""},{"path":"https://rodrigozepeda.github.io/tbl.now/reference/print.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Print temporal effects — print","text":"x temporal_effects object created [temporal_effects()] ... Additional arguments pass print.","code":""},{"path":"https://rodrigozepeda.github.io/tbl.now/reference/print.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Print temporal effects — print","text":"","code":"print(temporal_effects(day_of_week = TRUE, week_of_year = TRUE)) #> <tbl.now::temporal_effects> #>  @ day_of_week  : logi TRUE #>  @ weekend      : logi FALSE #>  @ day_of_month : logi FALSE #>  @ month_of_year: logi FALSE #>  @ week_of_year : logi TRUE #>  @ seasons      : int(0)  #>  @ holidays     : NULL print(temporal_effects(day_of_week = FALSE, week_of_year = FALSE)) #> <tbl.now::temporal_effects> #>  @ day_of_week  : logi FALSE #>  @ weekend      : logi FALSE #>  @ day_of_month : logi FALSE #>  @ month_of_year: logi FALSE #>  @ week_of_year : logi FALSE #>  @ seasons      : int(0)  #>  @ holidays     : NULL print(temporal_effects(day_of_week = FALSE, week_of_year = FALSE, seasons = 52)) #> <tbl.now::temporal_effects> #>  @ day_of_week  : logi FALSE #>  @ weekend      : logi FALSE #>  @ day_of_month : logi FALSE #>  @ month_of_year: logi FALSE #>  @ week_of_year : logi FALSE #>  @ seasons      : num 52 #>  @ holidays     : NULL"},{"path":"https://rodrigozepeda.github.io/tbl.now/reference/sub-.tbl_now.html","id":null,"dir":"Reference","previous_headings":"","what":"Subset function for `tbl_now` with downgrade-on-subsetting — [.tbl_now","title":"Subset function for `tbl_now` with downgrade-on-subsetting — [.tbl_now","text":"subsetting invalidates class `data.frame` returned.","code":""},{"path":"https://rodrigozepeda.github.io/tbl.now/reference/sub-.tbl_now.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Subset function for `tbl_now` with downgrade-on-subsetting — [.tbl_now","text":"","code":"# S3 method for class 'tbl_now' x[...]"},{"path":"https://rodrigozepeda.github.io/tbl.now/reference/sub-.tbl_now.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Subset function for `tbl_now` with downgrade-on-subsetting — [.tbl_now","text":"x `tbl_now` object ... arguments passed methods.","code":""},{"path":"https://rodrigozepeda.github.io/tbl.now/reference/sub-.tbl_now.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Subset function for `tbl_now` with downgrade-on-subsetting — [.tbl_now","text":"`tbl_now` object `data.frame`","code":""},{"path":"https://rodrigozepeda.github.io/tbl.now/reference/tbl.now-package.html","id":null,"dir":"Reference","previous_headings":"","what":"tbl.now: Tibble Extension for Nowcasts — tbl.now-package","title":"tbl.now: Tibble Extension for Nowcasts — tbl.now-package","text":"Provides 'tbl_now' class temporal data performing nowcasts. 'tbl_now' allows easy manipulation event dates, report dates, strata covariates implementing different nowcasting models time permiting ease use `dplyr` functions.","code":""},{"path":[]},{"path":"https://rodrigozepeda.github.io/tbl.now/reference/tbl.now-package.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"tbl.now: Tibble Extension for Nowcasts — tbl.now-package","text":"Maintainer: Rodrigo Zepeda-Tello rzepeda17@gmail.com (ORCID) Authors: Rami Yaari (ORCID) Matteo Perini (ORCID) contributors: Teresa Yamana (ORCID) [contributor] Jeffrey Shaman [contributor] Columbia University City New York [copyright holder, funder]","code":""},{"path":"https://rodrigozepeda.github.io/tbl.now/reference/tbl_now.html","id":null,"dir":"Reference","previous_headings":"","what":"Create a `tbl_now` object — tbl_now","title":"Create a `tbl_now` object — tbl_now","text":"special `data.frame` class includes information nowcast. See Attributes section information.","code":""},{"path":"https://rodrigozepeda.github.io/tbl.now/reference/tbl_now.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Create a `tbl_now` object — tbl_now","text":"","code":"new_tbl_now(   data,   event_date,   report_date,   strata = NULL,   covariates = NULL,   is_batched = NULL,   now = NULL,   event_units = \"auto\",   report_units = \"auto\",   data_type = \"auto\",   case_col = NULL,   verbose = TRUE,   force = FALSE,   ... )  tbl_now(   data,   event_date,   report_date,   strata = NULL,   covariates = NULL,   is_batched = NULL,   now = NULL,   event_units = \"auto\",   report_units = \"auto\",   data_type = \"auto\",   verbose = TRUE,   ... )"},{"path":"https://rodrigozepeda.github.io/tbl.now/reference/tbl_now.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Create a `tbl_now` object — tbl_now","text":"data `data.frame` converted. event_date Character. name column containing event date. report_date Character. name column containing report date. strata (optional) Character vector `NULL` (default). Name different variables (column names) strata. Strata correspond variables interest . example interest generate nowcasts gender `gender` `strata`. covariates (optional) Character vector `NULL` (default). Name different variables (column names) influence nowcast strata. example precipitation might influence dengue nowcast general interest generate nowcasts precipitation levels. is_batched (optional) Character `NULL` (default). name column containing either `TRUE` `FALSE` indicating whether `report_date` correctly specified corresponds `batch` thus censored. words, `report_date` accurately measured set `report_date = TRUE` `report_date` corresponds error upper bound real, idealized, report date set `is_batched = TRUE`. now (optional) Date `NULL` (default). date considered `now` nowcast. `now` given function automatically uses last `event_date`. event_units (optional) Character. Either \"auto\" (default), \"days\", \"weeks\", \"months\", \"years\" \"numeric\". report_units (optional) Character. Either \"auto\" (default), \"days\", \"weeks\", \"months\", \"years\" \"numeric\". data_type (optional) Character. Either \"auto\", \"linelist\" \"count\". case_col (optional) Name column case counts `data_type` \"count\". `case_col` specified even `data_type` \"linelist\" name used `to_count` function applied. verbose (optional) Logical. Whether throw message. Default = `TRUE`. force (optional) Logical. Whether force computation overwriting pre-existing variables. Default = `FALSE`. ... Additional metadata stored attributes.","code":""},{"path":"https://rodrigozepeda.github.io/tbl.now/reference/tbl_now.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Create a `tbl_now` object — tbl_now","text":"object class `tbl_now`.","code":""},{"path":"https://rodrigozepeda.github.io/tbl.now/reference/tbl_now.html","id":"attributes","dir":"Reference","previous_headings":"","what":"Attributes","title":"Create a `tbl_now` object — tbl_now","text":"following attributes part `tbl_now` validated [validate_tbl_now()] function: event_date Name column refering event interest. report_date Name column refering event interest reported. strata Names columns corresponding strata (modelling). num_strata Number strata. Corresponds `length(strata)`. covariates Names columns corresponding covariates (modelling). num_covariates Number covariates Corresponds `length(covariates)`. now Date `now` nowcast. is_batched Column indicating whether measurement noisy (upper bound) . event_units Either `days`, `weeks`, `months`, `years` `numeric`. Corresponds units `event_date` report_units Either `days`, `weeks`, `months`, `years` `numeric`. Corresponds units `report_date` repot_num Column `report_date` transformed numeric values event_num Column `event_date` transformed numeric values data_type Either `linelist` `count` depending whether linelist data   count data","code":""},{"path":"https://rodrigozepeda.github.io/tbl.now/reference/tbl_now.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Create a `tbl_now` object — tbl_now","text":"","code":"# The `tbl_now` is a data.frame with additional attributes data(denguedat) ndata <- tbl_now(denguedat,     event_date = \"onset_week\",     report_date = \"report_week\",     strata = \"gender\") #> ℹ Identified data as linelist-data where each observation is a test.  # You can see that it documents the `event_date`, `report_date`, `strata`, # `covariates` as well as the `now`. ndata #> # A tibble:  52,987 × 6 #> # Data type: \"linelist\" #> # Frequency: Event: `weeks` | Report: `weeks` #>    onset_week   report_week   gender   .event_num .report_num .delay #>    <date>       <date>        <chr>         <dbl>       <dbl>  <dbl> #>    [event_date] [report_date] [strata]      [...]       [...]  [...] #>  1 1990-01-01   1990-01-01    Male              0           0      0 #>  2 1990-01-01   1990-01-01    Female            0           0      0 #>  3 1990-01-01   1990-01-01    Female            0           0      0 #>  4 1990-01-01   1990-01-08    Female            0           1      1 #>  5 1990-01-01   1990-01-08    Male              0           1      1 #>  6 1990-01-01   1990-01-15    Female            0           2      2 #>  7 1990-01-01   1990-01-15    Female            0           2      2 #>  8 1990-01-01   1990-01-15    Female            0           2      2 #>  9 1990-01-01   1990-01-22    Female            0           3      3 #> 10 1990-01-01   1990-01-08    Female            0           1      1 #> # ──────────────────────────────────────────────────────────────────────────────── #> # Now: 2010-12-20 | Event date: \"onset_week\" | Report date: \"report_week\" #> # Strata: \"gender\" #> # ──────────────────────────────────────────────────────────────────────────────── #> # ℹ 52,977 more rows   #A `tbl_now` is an extension of a `tibble` which means normal #`data.frame` operations are permitted ndata$newcolumn <- \"something\" ndata #> # A tibble:  52,987 × 7 #> # Data type: \"linelist\" #> # Frequency: Event: `weeks` | Report: `weeks` #>    onset_week   report_week   gender   .event_num .report_num .delay newcolumn #>    <date>       <date>        <chr>         <dbl>       <dbl>  <dbl> <chr>     #>    [event_date] [report_date] [strata]      [...]       [...]  [...] [...]     #>  1 1990-01-01   1990-01-01    Male              0           0      0 something #>  2 1990-01-01   1990-01-01    Female            0           0      0 something #>  3 1990-01-01   1990-01-01    Female            0           0      0 something #>  4 1990-01-01   1990-01-08    Female            0           1      1 something #>  5 1990-01-01   1990-01-08    Male              0           1      1 something #>  6 1990-01-01   1990-01-15    Female            0           2      2 something #>  7 1990-01-01   1990-01-15    Female            0           2      2 something #>  8 1990-01-01   1990-01-15    Female            0           2      2 something #>  9 1990-01-01   1990-01-22    Female            0           3      3 something #> 10 1990-01-01   1990-01-08    Female            0           1      1 something #> # ──────────────────────────────────────────────────────────────────────────────── #> # Now: 2010-12-20 | Event date: \"onset_week\" | Report date: \"report_week\" #> # Strata: \"gender\" #> # ──────────────────────────────────────────────────────────────────────────────── #> # ℹ 52,977 more rows  #Like removing a column ndata <- ndata[,-4] #> Warning: Dropped protected column(?s): \".event_num\". Returning a `tibble` ndata #> # A tibble: 52,987 × 6 #>    onset_week report_week gender .report_num .delay newcolumn #>    <date>     <date>      <chr>        <dbl>  <dbl> <chr>     #>  1 1990-01-01 1990-01-01  Male             0      0 something #>  2 1990-01-01 1990-01-01  Female           0      0 something #>  3 1990-01-01 1990-01-01  Female           0      0 something #>  4 1990-01-01 1990-01-08  Female           1      1 something #>  5 1990-01-01 1990-01-08  Male             1      1 something #>  6 1990-01-01 1990-01-15  Female           2      2 something #>  7 1990-01-01 1990-01-15  Female           2      2 something #>  8 1990-01-01 1990-01-15  Female           2      2 something #>  9 1990-01-01 1990-01-22  Female           3      3 something #> 10 1990-01-01 1990-01-08  Female           1      1 something #> # ℹ 52,977 more rows  #Like selecting ndata[1:10,] #> # A tibble: 10 × 6 #>    onset_week report_week gender .report_num .delay newcolumn #>    <date>     <date>      <chr>        <dbl>  <dbl> <chr>     #>  1 1990-01-01 1990-01-01  Male             0      0 something #>  2 1990-01-01 1990-01-01  Female           0      0 something #>  3 1990-01-01 1990-01-01  Female           0      0 something #>  4 1990-01-01 1990-01-08  Female           1      1 something #>  5 1990-01-01 1990-01-08  Male             1      1 something #>  6 1990-01-01 1990-01-15  Female           2      2 something #>  7 1990-01-01 1990-01-15  Female           2      2 something #>  8 1990-01-01 1990-01-15  Female           2      2 something #>  9 1990-01-01 1990-01-22  Female           3      3 something #> 10 1990-01-01 1990-01-08  Female           1      1 something ndata #> # A tibble: 52,987 × 6 #>    onset_week report_week gender .report_num .delay newcolumn #>    <date>     <date>      <chr>        <dbl>  <dbl> <chr>     #>  1 1990-01-01 1990-01-01  Male             0      0 something #>  2 1990-01-01 1990-01-01  Female           0      0 something #>  3 1990-01-01 1990-01-01  Female           0      0 something #>  4 1990-01-01 1990-01-08  Female           1      1 something #>  5 1990-01-01 1990-01-08  Male             1      1 something #>  6 1990-01-01 1990-01-15  Female           2      2 something #>  7 1990-01-01 1990-01-15  Female           2      2 something #>  8 1990-01-01 1990-01-15  Female           2      2 something #>  9 1990-01-01 1990-01-22  Female           3      3 something #> 10 1990-01-01 1990-01-08  Female           1      1 something #> # ℹ 52,977 more rows  #You can also apply all dplyr functions: ndata %>%   dplyr::filter(report_week <= as.Date(\"1991-01-02\", format = \"%Y-%m-%d\")) #> # A tibble: 1,981 × 6 #>    onset_week report_week gender .report_num .delay newcolumn #>    <date>     <date>      <chr>        <dbl>  <dbl> <chr>     #>  1 1990-01-01 1990-01-01  Male             0      0 something #>  2 1990-01-01 1990-01-01  Female           0      0 something #>  3 1990-01-01 1990-01-01  Female           0      0 something #>  4 1990-01-01 1990-01-08  Female           1      1 something #>  5 1990-01-01 1990-01-08  Male             1      1 something #>  6 1990-01-01 1990-01-15  Female           2      2 something #>  7 1990-01-01 1990-01-15  Female           2      2 something #>  8 1990-01-01 1990-01-15  Female           2      2 something #>  9 1990-01-01 1990-01-22  Female           3      3 something #> 10 1990-01-01 1990-01-08  Female           1      1 something #> # ℹ 1,971 more rows  #Removing an important column automatically transforms to tibble #losing its property suppressWarnings(   ndata %>%     dplyr::select(-onset_week) ) #> # A tibble: 52,987 × 5 #>    report_week gender .report_num .delay newcolumn #>    <date>      <chr>        <dbl>  <dbl> <chr>     #>  1 1990-01-01  Male             0      0 something #>  2 1990-01-01  Female           0      0 something #>  3 1990-01-01  Female           0      0 something #>  4 1990-01-08  Female           1      1 something #>  5 1990-01-08  Male             1      1 something #>  6 1990-01-15  Female           2      2 something #>  7 1990-01-15  Female           2      2 something #>  8 1990-01-15  Female           2      2 something #>  9 1990-01-22  Female           3      3 something #> 10 1990-01-08  Female           1      1 something #> # ℹ 52,977 more rows  #Removing strata just changes the overall structure ndata %>% dplyr::select(-gender) #> # A tibble: 52,987 × 5 #>    onset_week report_week .report_num .delay newcolumn #>    <date>     <date>            <dbl>  <dbl> <chr>     #>  1 1990-01-01 1990-01-01            0      0 something #>  2 1990-01-01 1990-01-01            0      0 something #>  3 1990-01-01 1990-01-01            0      0 something #>  4 1990-01-01 1990-01-08            1      1 something #>  5 1990-01-01 1990-01-08            1      1 something #>  6 1990-01-01 1990-01-15            2      2 something #>  7 1990-01-01 1990-01-15            2      2 something #>  8 1990-01-01 1990-01-15            2      2 something #>  9 1990-01-01 1990-01-22            3      3 something #> 10 1990-01-01 1990-01-08            1      1 something #> # ℹ 52,977 more rows"},{"path":"https://rodrigozepeda.github.io/tbl.now/reference/tbl_now_can_reconstruct.html","id":null,"dir":"Reference","previous_headings":"","what":"Checks whether the `tbl_now` object is valid — tbl_now_can_reconstruct","title":"Checks whether the `tbl_now` object is valid — tbl_now_can_reconstruct","text":"wrapper [`validate_tbl_now`] [`tryCatch()`] order error input object invalid returns `TRUE` `FALSE` object valid. object valid can \"reconstructed\" downgraded `data.frame`.","code":""},{"path":"https://rodrigozepeda.github.io/tbl.now/reference/tbl_now_can_reconstruct.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Checks whether the `tbl_now` object is valid — tbl_now_can_reconstruct","text":"","code":"tbl_now_can_reconstruct(data)"},{"path":"https://rodrigozepeda.github.io/tbl.now/reference/tbl_now_can_reconstruct.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Checks whether the `tbl_now` object is valid — tbl_now_can_reconstruct","text":"data `data.frame` converted.","code":""},{"path":"https://rodrigozepeda.github.io/tbl.now/reference/tbl_now_can_reconstruct.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Checks whether the `tbl_now` object is valid — tbl_now_can_reconstruct","text":"boolean logical (`TRUE` `FALSE`)","code":""},{"path":"https://rodrigozepeda.github.io/tbl.now/reference/tbl_now_reconstruct.html","id":null,"dir":"Reference","previous_headings":"","what":"Decides whether `tbl_now` object can be reconstructed from input — tbl_now_reconstruct","title":"Decides whether `tbl_now` object can be reconstructed from input — tbl_now_reconstruct","text":"Uses [`tbl_now_reconstruct_internal()`] determine whether data input can reconstructed valid `tbl_now` object. can , returned `data.frame`.","code":""},{"path":"https://rodrigozepeda.github.io/tbl.now/reference/tbl_now_reconstruct.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Decides whether `tbl_now` object can be reconstructed from input — tbl_now_reconstruct","text":"","code":"tbl_now_reconstruct(data, template)"},{"path":"https://rodrigozepeda.github.io/tbl.now/reference/tbl_now_reconstruct.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Decides whether `tbl_now` object can be reconstructed from input — tbl_now_reconstruct","text":"data `data.frame` converted.","code":""},{"path":"https://rodrigozepeda.github.io/tbl.now/reference/tbl_now_reconstruct.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Decides whether `tbl_now` object can be reconstructed from input — tbl_now_reconstruct","text":"`tbl_now` object (input valid) `data.frame`","code":""},{"path":"https://rodrigozepeda.github.io/tbl.now/reference/tbl_now_reconstruct_internal.html","id":null,"dir":"Reference","previous_headings":"","what":"Reconstruct a tbl_now — tbl_now_reconstruct_internal","title":"Reconstruct a tbl_now — tbl_now_reconstruct_internal","text":"Reconstruct tbl_now","code":""},{"path":"https://rodrigozepeda.github.io/tbl.now/reference/tbl_now_reconstruct_internal.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Reconstruct a tbl_now — tbl_now_reconstruct_internal","text":"","code":"tbl_now_reconstruct_internal(data, template)"},{"path":"https://rodrigozepeda.github.io/tbl.now/reference/tbl_now_reconstruct_internal.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Reconstruct a tbl_now — tbl_now_reconstruct_internal","text":"data `data.frame` converted.","code":""},{"path":"https://rodrigozepeda.github.io/tbl.now/reference/tbl_now_reconstruct_internal.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Reconstruct a tbl_now — tbl_now_reconstruct_internal","text":"`tbl_now` object `data.frame`","code":""},{"path":"https://rodrigozepeda.github.io/tbl.now/reference/temporal_effects.html","id":null,"dir":"Reference","previous_headings":"","what":"Temporal Effects Class — temporal_effects","title":"Temporal Effects Class — temporal_effects","text":"`temporal_effects` class specifies temporal covariates effects included nowcasting model (e.g., day week, month, holidays, etc.).","code":""},{"path":"https://rodrigozepeda.github.io/tbl.now/reference/temporal_effects.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Temporal Effects Class — temporal_effects","text":"","code":"temporal_effects(   day_of_week = FALSE,   weekend = FALSE,   day_of_month = FALSE,   month_of_year = FALSE,   week_of_year = FALSE,   seasons = integer(0),   holidays = NULL )"},{"path":"https://rodrigozepeda.github.io/tbl.now/reference/temporal_effects.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Temporal Effects Class — temporal_effects","text":"day_of_week Logical. Whether include effect seven days week. weekend Logical. Whether include effect weekend vs weekday. day_of_month Logical. Whether include effect day month (1 31). month_of_year Logical. Whether include effect month year. week_of_year Logical. Whether include effect epidemiological week. seasons Vector. Either `integer(0)` vector entry length seasons included model. holidays Either `NULL` [`almanac::rcalendar()`] specifying calculate holidays.","code":""},{"path":"https://rodrigozepeda.github.io/tbl.now/reference/temporal_effects.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Temporal Effects Class — temporal_effects","text":"object class `temporal_effects`.","code":""},{"path":"https://rodrigozepeda.github.io/tbl.now/reference/temporal_effects.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Temporal Effects Class — temporal_effects","text":"US Federal holidays can passed providing [`almanac::cal_us_federal()`] calendar. Example: “`r library(almanac) temporal_effects(holidays = cal_us_federal()) “`","code":""},{"path":"https://rodrigozepeda.github.io/tbl.now/reference/temporal_effects.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Temporal Effects Class — temporal_effects","text":"","code":"temporal_effects(day_of_week = TRUE, week_of_year = TRUE) #> <tbl.now::temporal_effects> #>  @ day_of_week  : logi TRUE #>  @ weekend      : logi FALSE #>  @ day_of_month : logi FALSE #>  @ month_of_year: logi FALSE #>  @ week_of_year : logi TRUE #>  @ seasons      : int(0)  #>  @ holidays     : NULL  if (rlang::is_installed(\"almanac\")) {   cal <- almanac::rcalendar(almanac::hol_christmas())   temporal_effects(holidays = cal, day_of_month = TRUE, seasons = c(7, 365)) } #> <tbl.now::temporal_effects> #>  @ day_of_week  : logi FALSE #>  @ weekend      : logi FALSE #>  @ day_of_month : logi TRUE #>  @ month_of_year: logi FALSE #>  @ week_of_year : logi FALSE #>  @ seasons      : num [1:2] 7 365 #>  @ holidays     :List of 3 #>  .. $ names    : chr \"Christmas\" #>  .. $ rholidays:List of 1 #>  ..  ..$ :List of 3 #>  ..  .. ..$ name       : chr \"Christmas\" #>  ..  .. ..$ robserved  :List of 2 #>  ..  .. .. ..$ rules:List of 13 #>  ..  .. .. .. ..$ since        : Date[1:1], format: \"1900-01-01\" #>  ..  .. .. .. ..$ until        : Date[1:1], format: \"2100-01-01\" #>  ..  .. .. .. ..$ frequency    : chr \"yearly\" #>  ..  .. .. .. ..$ count        : NULL #>  ..  .. .. .. ..$ interval     : NULL #>  ..  .. .. .. ..$ week_start   : NULL #>  ..  .. .. .. ..$ month_of_year: int 12 #>  ..  .. .. .. ..$ week_of_year : NULL #>  ..  .. .. .. ..$ day_of_year  : NULL #>  ..  .. .. .. ..$ day_of_month : int 25 #>  ..  .. .. .. ..$ day_of_week  : NULL #>  ..  .. .. .. ..$ position     : NULL #>  ..  .. .. .. ..$ easter       : NULL #>  ..  .. .. ..$ cache:Classes 'cache_rrule', 'R6' <cache_rrule> #>   Public: #>     get_events: function ()  #>     initialize: function (rules)  #>   Private: #>     built: FALSE #>     cache_build: function ()  #>     events: NULL #>     rules: list  #>  ..  .. .. ..- attr(*, \"class\")= chr [1:2] \"almanac_rrule\" \"almanac_rschedule\" #>  ..  .. ..$ runobserved:List of 2 #>  ..  .. .. ..$ rules:List of 13 #>  ..  .. .. .. ..$ since        : Date[1:1], format: \"1900-01-01\" #>  ..  .. .. .. ..$ until        : Date[1:1], format: \"2100-01-01\" #>  ..  .. .. .. ..$ frequency    : chr \"yearly\" #>  ..  .. .. .. ..$ count        : NULL #>  ..  .. .. .. ..$ interval     : NULL #>  ..  .. .. .. ..$ week_start   : NULL #>  ..  .. .. .. ..$ month_of_year: int 12 #>  ..  .. .. .. ..$ week_of_year : NULL #>  ..  .. .. .. ..$ day_of_year  : NULL #>  ..  .. .. .. ..$ day_of_month : int 25 #>  ..  .. .. .. ..$ day_of_week  : NULL #>  ..  .. .. .. ..$ position     : NULL #>  ..  .. .. .. ..$ easter       : NULL #>  ..  .. .. ..$ cache:Classes 'cache_rrule', 'R6' <cache_rrule> #>   Public: #>     get_events: function ()  #>     initialize: function (rules)  #>   Private: #>     built: FALSE #>     cache_build: function ()  #>     events: NULL #>     rules: list  #>  ..  .. .. ..- attr(*, \"class\")= chr [1:2] \"almanac_rrule\" \"almanac_rschedule\" #>  ..  .. ..- attr(*, \"class\")= chr [1:2] \"almanac_rholiday\" \"almanac_rschedule\" #>  .. $ cache    :Classes 'cache_rcalendar', 'R6' <cache_rcalendar> #>   Public: #>     get_events: function (observed)  #>     get_events_frame: function (observed)  #>     initialize: function (names, rholidays)  #>   Private: #>     cache_build: function (observed)  #>     names: Christmas #>     observed: list #>     rholidays: list #>     unobserved: list  #>  .. - attr(*, \"class\")= chr [1:2] \"almanac_rcalendar\" \"almanac_rschedule\""},{"path":"https://rodrigozepeda.github.io/tbl.now/reference/time_cols_to_numeric.html","id":null,"dir":"Reference","previous_headings":"","what":"Report and event units to numeric — time_cols_to_numeric","title":"Report and event units to numeric — time_cols_to_numeric","text":"Function takes dataframe `data` two columns names `event_date` `report_date` can either dates numeric. transforms dates","code":""},{"path":"https://rodrigozepeda.github.io/tbl.now/reference/time_cols_to_numeric.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Report and event units to numeric — time_cols_to_numeric","text":"","code":"time_cols_to_numeric(   data,   event_date,   report_date,   event_units,   report_units,   force )"},{"path":"https://rodrigozepeda.github.io/tbl.now/reference/time_cols_to_numeric.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Report and event units to numeric — time_cols_to_numeric","text":"data data.frame event_date Name column corresponding date event report_date Name column corresponding date report event_units Either `days`, `weeks`, `months`, `years` `numeric` report_units Either `days`, `weeks`, `months`, `years` `numeric`","code":""},{"path":"https://rodrigozepeda.github.io/tbl.now/reference/time_cols_to_numeric.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Report and event units to numeric — time_cols_to_numeric","text":"dataframe `data` two additional columns `.event_num` `.report_num` corresponding transforming dates numeric.","code":""},{"path":"https://rodrigozepeda.github.io/tbl.now/reference/to_count.html","id":null,"dir":"Reference","previous_headings":"","what":"Transform an object to count data — to_count","title":"Transform an object to count data — to_count","text":"S3 generic. package provides methods following classes: * `tbl_now`: takes `tbl_now` object creates new column name `n` counts observations `data_type = \"linelist\"`.","code":""},{"path":"https://rodrigozepeda.github.io/tbl.now/reference/to_count.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Transform an object to count data — to_count","text":"","code":"to_count(x, ...)  # S3 method for class 'tbl_now' to_count(x, ...)"},{"path":"https://rodrigozepeda.github.io/tbl.now/reference/to_count.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Transform an object to count data — to_count","text":"x Data transformed `linelist` count data ... Additional arguments","code":""},{"path":"https://rodrigozepeda.github.io/tbl.now/reference/to_count.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Transform an object to count data — to_count","text":"","code":"data(denguedat) ndata <- tbl_now(denguedat,     event_date = \"onset_week\",     report_date = \"report_week\",     strata = \"gender\") #> ℹ Identified data as linelist-data where each observation is a test.  to_count(ndata) #> # A tibble:  8,265 × 7 #> # Data type: \"count\" #> # Frequency: Event: `weeks` | Report: `weeks` #>    onset_week   report_week   .event_num .report_num gender       n .delay #>    <date>       <date>             <dbl>       <dbl> <chr>    <int>  <dbl> #>    [event_date] [report_date]      [...]       [...] [strata] [...]  [...] #>  1 1990-01-01   1990-01-01             0           0 Female       2      0 #>  2 1990-01-01   1990-01-01             0           0 Male         1      0 #>  3 1990-01-01   1990-01-08             0           1 Female      13      1 #>  4 1990-01-01   1990-01-08             0           1 Male        11      1 #>  5 1990-01-01   1990-01-15             0           2 Female      16      2 #>  6 1990-01-01   1990-01-15             0           2 Male         7      2 #>  7 1990-01-01   1990-01-22             0           3 Female       7      3 #>  8 1990-01-01   1990-01-22             0           3 Male         1      3 #>  9 1990-01-01   1990-01-29             0           4 Male         1      4 #> 10 1990-01-01   1990-02-12             0           6 Male         1      6 #> # ──────────────────────────────────────────────────────────────────────────────── #> # Now: 2010-12-20 | Event date: \"onset_week\" | Report date: \"report_week\" #> # Strata: \"gender\" #> # ──────────────────────────────────────────────────────────────────────────────── #> # ℹ 8,255 more rows  data(\"covidat\") ndata <- tbl_now(covidat, event_date = \"date_of_symptom_onset\",               report_date = \"date_of_registry\",               strata = \"sex\") #> ℹ Identified data as count-data with counts in column \"n\". #> Warning: 147 row(s) have a `report_date` before `event_date` to_count(ndata) #> Warning: 147 row(s) have a `report_date` before `event_date` #> Warning: 147 row(s) have a `report_date` before `event_date` #> Warning: 147 row(s) have a `report_date` before `event_date` #> # A tibble:  40,822 × 7 #> # Data type: \"count\" #> # Frequency: Event: `days` | Report: `days` #>    date_of_symptom_onset date_of_registry .event_num .report_num sex          n #>    <date>                <date>                <dbl>       <dbl> <chr>    <int> #>    [event_date]          [report_date]         [...]       [...] [strata] [...] #>  1 2020-03-06            2020-04-05                0          30 FEMALE       1 #>  2 2020-03-06            2020-04-05                0          30 MALE         1 #>  3 2020-03-07            2020-04-05                1          30 FEMALE       1 #>  4 2020-03-11            2020-04-07                5          32 MALE         1 #>  5 2020-03-18            2020-04-05               12          30 FEMALE       1 #>  6 2020-03-23            2020-04-08               17          33 FEMALE       1 #>  7 2020-03-24            2020-04-05               18          30 MALE         1 #>  8 2020-03-26            2020-04-06               20          31 FEMALE       1 #>  9 2020-03-27            2020-04-05               21          30 FEMALE       1 #> 10 2020-03-31            2020-04-05               25          30 FEMALE       1 #> # ──────────────────────────────────────────────────────────────────────────────── #> # Now: 2023-01-01 | Event date: \"date_of_symptom_onset\" | Report date: #> # \"date_of_registry\" #> # Strata: \"sex\" #> # ──────────────────────────────────────────────────────────────────────────────── #> # ℹ 40,812 more rows #> # ℹ 1 more variable: .delay <dbl>"},{"path":"https://rodrigozepeda.github.io/tbl.now/reference/validate_tbl_now.html","id":null,"dir":"Reference","previous_headings":"","what":"Validate a tbl_now object — validate_tbl_now","title":"Validate a tbl_now object — validate_tbl_now","text":"Checks object properly constructed `tbl_now` required attributes valid data.","code":""},{"path":"https://rodrigozepeda.github.io/tbl.now/reference/validate_tbl_now.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Validate a tbl_now object — validate_tbl_now","text":"","code":"validate_tbl_now(x)"},{"path":"https://rodrigozepeda.github.io/tbl.now/reference/validate_tbl_now.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Validate a tbl_now object — validate_tbl_now","text":"x object validate","code":""},{"path":"https://rodrigozepeda.github.io/tbl.now/reference/validate_tbl_now.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Validate a tbl_now object — validate_tbl_now","text":"Returns `TRUE` invisibly throws error. Called side effects.","code":""},{"path":"https://rodrigozepeda.github.io/tbl.now/reference/validate_tbl_now.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Validate a tbl_now object — validate_tbl_now","text":"","code":"if (FALSE) { # \\dontrun{ data(denguedat) ndata <- tbl_now(denguedat, event_date = \"onset_week\",   report_date = \"report_week\")  # Validate without errors validate_tbl_now(ndata)  # Validate with errors validate_tbl_now(data.frame(x = 1:3))  } # }"}]
